import{m as L,c as w,k as F,d as U,u as M,a as O,i as l,b as e,I as j,A,F as y,S as T,e as H,f as E,g as G,t as K,h as v,j as W,s as D,l as J,n as Q,o as X,p as Y,q as Z,r as ee,v as te,R as m,N as ne,w as re,x as p,y as se,z as oe,B as ae,C as ie,D as le}from"./vendor-d5356dcc.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function a(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerPolicy&&(t.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?t.credentials="include":r.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(r){if(r.ep)return;r.ep=!0;const t=a(r);fetch(r.href,t)}})();const ce="modulepreload",de=function(n,s){return new URL(n,s).href},R={},f=function(s,a,i){if(!a||a.length===0)return s();const r=document.getElementsByTagName("link");return Promise.all(a.map(t=>{if(t=de(t,i),t in R)return;R[t]=!0;const o=t.endsWith(".css"),u=o?'[rel="stylesheet"]':"";if(!!i)for(let h=r.length-1;h>=0;h--){const g=r[h];if(g.href===t&&(!o||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${u}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":ce,o||(c.as="script",c.crossOrigin=""),c.href=t,document.head.appendChild(c),o)return new Promise((h,g)=>{c.addEventListener("load",h),c.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>s()).catch(t=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=t,window.dispatchEvent(o),!o.defaultPrevented)throw t})},ue=["light","dark","cupcake","bumblebee","emerald","corporate","synthwave","retro","cyberpunk","valentine","halloween","garden","forest","aqua","lofi","pastel","fantasy","wireframe","black","luxury","dracula","cmyk","autumn","business","acid","lemonade","night","coffee","winter"],[C,me]=L(w(""),{name:"selectedEndpoint",storage:localStorage}),[he,De]=L(w([]),{name:"endpointList",storage:localStorage}),[pe,fe]=L(w("business"),{name:"theme",storage:localStorage}),S=()=>he().find(({id:n})=>n===C()),Ne=()=>{var n;return(n=S())==null?void 0:n.secret},Ve=()=>{var n;return(n=S())==null?void 0:n.url.replace("http","ws")},Be=()=>{const n=S();return F.create({prefixUrl:n==null?void 0:n.url,headers:{Authorization:n!=null&&n.secret?`Bearer ${n.secret}`:""}})},N=v("<li>"),ge=v('<div class="drawer drawer-end w-auto sm:ml-auto"><input id="themes" type="checkbox" class="drawer-toggle"><div class="drawer-content flex items-center"><label for="themes" class="btn btn-circle btn-primary drawer-button btn-sm"></label></div><div class="drawer-side"><label for="themes" class="drawer-overlay"></label><ul class="menu rounded-box gap-2 bg-base-300 p-2 shadow">'),be=v('<li class="btn btn-xs">'),ve=v('<div class="navbar-center hidden lg:flex"><ul class="menu menu-horizontal gap-2">'),_e=v('<ul class="navbar rounded-box sticky inset-x-0 top-2 z-10 mx-2 mt-2 flex w-auto items-center justify-center bg-base-300 px-4"><div class="navbar-start gap-4"><div><input id="navs" type="checkbox" class="drawer-toggle"><div class="drawer-content flex items-center"><label for="navs" class="btn btn-circle drawer-button btn-sm"></label></div><div class="drawer-side"><label for="navs" class="drawer-overlay"></label><ul class="menu rounded-box min-h-full w-2/5 gap-2 bg-base-300 pt-20 shadow"></ul></div></div><a class="text-xl font-bold normal-case" href="https://github.com/metacubex/metacubexd" target="_blank">metacubexd</a></div><div class="navbar-end"><div class="flex items-center gap-2"><button class="btn btn-circle btn-secondary btn-sm">'),we=({href:n,tooltip:s,children:a})=>(()=>{const i=N();return l(i,e(A,{class:"tooltip rounded-box tooltip-bottom",href:n,"data-tip":s,children:a})),i})(),xe=()=>(()=>{const n=ge(),s=n.firstChild,a=s.nextSibling,i=a.firstChild,r=a.nextSibling,t=r.firstChild,o=t.nextSibling;return l(i,e(W,{})),l(o,e(y,{each:ue,children:u=>(()=>{const d=be();return d.$$click=()=>fe(u),D(d,"data-theme",u),l(d,u),d})()})),n})(),P=()=>[{href:"/overview",name:"Overview",icon:e(J,{})},{href:"/proxies",name:"Proxies",icon:e(Q,{})},{href:"/rules",name:"Rules",icon:e(X,{})},{href:"/conns",name:"Connections",icon:e(Y,{})},{href:"/logs",name:"Logs",icon:e(Z,{})},{href:"/config",name:"Config",icon:e(ee,{})}],$e=()=>{const n=M(),s=O(),[a,i]=w(!1),r=()=>{me(""),s("/setup")};return(()=>{const t=_e(),o=t.firstChild,u=o.firstChild,d=u.firstChild,c=d.nextSibling,h=c.firstChild,g=c.nextSibling,V=g.firstChild,B=V.nextSibling,k=o.nextSibling,I=k.firstChild,x=I.firstChild;return d.addEventListener("change",b=>i(b.target.checked)),l(h,e(j,{})),l(B,e(y,{get each(){return P()},children:({href:b,name:$})=>(()=>{const _=N();return _.$$click=()=>i(!1),l(_,e(A,{href:b,children:$})),_})()})),l(t,e(T,{get when(){return n.pathname!=="/setup"},get children(){const b=ve(),$=b.firstChild;return l($,e(y,{get each(){return P()},children:({href:_,name:q,icon:z})=>e(we,{href:_,tooltip:q,children:z})})),b}}),k),l(I,e(xe,{}),x),x.$$click=r,l(x,e(H,{})),E(()=>G(u,K("drawer w-auto lg:hidden",""))),E(()=>d.checked=a()),t})()};U(["click"]);const ye=v('<div class="relative flex h-screen flex-col subpixel-antialiased"><div class="flex-1 overflow-y-auto overflow-x-hidden p-2 sm:p-4">'),Ee=p(()=>f(()=>import("./Setup-1da76559.js"),["./Setup-1da76559.js","./vendor-d5356dcc.js","./index-563644f8.js"],import.meta.url)),Ce=p(()=>f(()=>import("./Overview-d2d11da3.js"),["./Overview-d2d11da3.js","./vendor-d5356dcc.js","./index-f7a91590.js","./index-ac54fc13.js"],import.meta.url)),Le=p(()=>f(()=>import("./Connections-6a852a0d.js"),["./Connections-6a852a0d.js","./vendor-d5356dcc.js","./index-f7a91590.js","./index-ac54fc13.js","./enum-cbdb10ae.js"],import.meta.url)),Se=p(()=>f(()=>import("./Logs-816d228c.js"),["./Logs-816d228c.js","./vendor-d5356dcc.js","./index-f7a91590.js"],import.meta.url)),ke=p(()=>f(()=>import("./Proxies-c6eca6a2.js"),["./Proxies-c6eca6a2.js","./vendor-d5356dcc.js","./enum-cbdb10ae.js","./index-ac54fc13.js"],import.meta.url)),Ie=p(()=>f(()=>import("./Rules-b516a477.js"),["./Rules-b516a477.js","./vendor-d5356dcc.js"],import.meta.url)),Re=p(()=>f(()=>import("./Config-55575b14.js"),["./Config-55575b14.js","./vendor-d5356dcc.js","./index-563644f8.js"],import.meta.url)),Pe=()=>{const n=O();return te(()=>{C()||n("/setup")}),(()=>{const s=ye(),a=s.firstChild;return l(s,e($e,{}),a),l(a,e(re,{get children(){return[e(T,{get when(){return C()},get children(){return[e(m,{path:"/overview",component:Ce}),e(m,{path:"/proxies",component:ke}),e(m,{path:"/rules",component:Ie}),e(m,{path:"/conns",component:Le}),e(m,{path:"/logs",component:Se}),e(m,{path:"/config",component:Re}),e(m,{path:"*",get element(){return e(ne,{href:"/overview"})}})]}}),e(m,{path:"/setup",component:Ee})]}})),E(()=>D(s,"data-theme",pe())),s})()},Oe=se({en:{}},"en"),Ae=document.getElementById("root");oe(()=>e(le.Provider,{value:Oe,get children(){return e(ae,{get source(){return ie()},get children(){return e(Pe,{})}})}}),Ae);export{me as a,Ne as b,he as e,De as s,Be as u,Ve as w};
