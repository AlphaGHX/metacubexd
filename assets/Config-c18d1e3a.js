import{i as e,g as o,o as c,u as D,c as Q,L,F as C,S as R,B as A,l as $,s as k}from"./vendor-01afc7ba.js";import{z as u,c as j,v as N}from"./index-b0a7f1b6.js";import{u as q,f as I,g as T,h as w,j as M,t as P,k as X,l as B,m as O,P as V,n as z,p as H,o as U,q as W,r as Y,v as G}from"./index-8a8a2bbe.js";const J=c('<div class="flex flex-col p-4">'),K=c('<div class="flex flex-col"><form class="flex flex-col gap-2 sm:flex-row"><input name="name" class="input input-bordered w-full max-w-xs sm:flex-1"><div class="flex items-center gap-2"><select name="type" class="select select-bordered"><option>A</option><option>AAAA</option><option>MX</option></select><button type="submit" class="btn btn-primary">'),Z=c('<div class="py-2">'),ee=c('<div><form class="contents">'),te=c('<div class="form-control w-64 max-w-xs"><label class="label"><span class="label-text"></span></label><input type="number" class="input input-bordered">'),F=c('<div class="flex flex-col"><div class="pb-4"></div><select class="select select-bordered w-full max-w-xs">'),le=c('<div class="grid gap-4"><div class="flex flex-col"><div class="pb-4"></div><input type="checkbox" class="toggle"></div><div><div class="pb-4"></div><div class="flex items-center gap-4"></div></div><div><div class="pb-4"></div><input class="toggle" type="checkbox"></div><div class="flex flex-col"><div class="pb-4"></div><input class="w-100 input input-bordered max-w-md">'),E=c("<option>"),se=c('<label class="flex items-center gap-2"><span></span><input class="radio" type="radio">'),ne=c('<div class="flex flex-col gap-4">'),re=u.object({name:u.string(),type:u.string()}),ae=()=>{const[l]=D(),g=q(),{form:m}=j({extend:N({schema:re}),onSubmit:async s=>{g.get("dns/query",{searchParams:{name:s.name,type:s.type}}).json().then(({Answer:r})=>y((r==null?void 0:r.map(({data:d})=>d))||[]))}}),[v,y]=Q([]);return(()=>{const s=K(),r=s.firstChild,d=r.firstChild,_=d.nextSibling,x=_.firstChild,S=x.nextSibling;return L(m,r,()=>m),e(S,()=>l("dnsQuery")),e(s,o(R,{get when(){return v().length>0},get children(){const b=J();return e(b,o(C,{get each(){return v()},children:i=>(()=>{const h=Z();return e(h,i),h})()})),b}}),null),s})()},ie=u.object({port:u.number(),"socks-port":u.number(),"redir-port":u.number(),"tproxy-port":u.number(),"mixed-port":u.number()}),oe=()=>{const l=q(),g=[{label:"Http Port",key:"port"},{label:"Socks Port",key:"socks-port"},{label:"Redir Port",key:"redir-port"},{label:"Tproxy Port",key:"tproxy-port"},{label:"Mixed Port",key:"mixed-port"}],{form:m,setInitialValues:v,reset:y}=j({extend:N({schema:ie})});return A(async()=>{const s=await l.get("configs").json();v(s),y()}),(()=>{const s=ee(),r=s.firstChild;return L(m,r,()=>m),e(r,o(C,{each:g,children:d=>(()=>{const _=te(),x=_.firstChild,S=x.firstChild,b=x.nextSibling;return e(S,()=>d.label),$(i=>{const h=d.key,t=d.label;return h!==i._v$&&k(b,"name",i._v$=h),t!==i._v$2&&k(b,"placeholder",i._v$2=t),i},{_v$:void 0,_v$2:void 0}),_})()})),s})()},ce=()=>{const[l]=D();return(()=>{const g=le(),m=g.firstChild,v=m.firstChild,y=v.nextSibling,s=m.nextSibling,r=s.firstChild,d=r.nextSibling,_=s.nextSibling,x=_.firstChild,S=x.nextSibling,b=_.nextSibling,i=b.firstChild,h=i.nextSibling;return e(v,()=>l("autoSwitchTheme")),y.addEventListener("change",t=>{I(t.target.checked),T()}),e(g,o(R,{get when(){return w()},get children(){return[(()=>{const t=F(),a=t.firstChild,f=a.nextSibling;return e(a,()=>l("favDayTheme")),f.addEventListener("change",n=>{M(n.target.value),T()}),e(f,o(C,{each:P,children:n=>(()=>{const p=E();return p.value=n,e(p,n),$(()=>p.selected=X()===n),p})()})),t})(),(()=>{const t=F(),a=t.firstChild,f=a.nextSibling;return e(a,()=>l("favNightTheme")),f.addEventListener("change",n=>{B(n.target.value),T()}),e(f,o(C,{each:P,children:n=>(()=>{const p=E();return p.value=n,e(p,n),$(()=>p.selected=O()===n),p})()})),t})()]}}),s),e(r,()=>l("proxiesPreviewType")),e(d,o(C,{get each(){return Object.values(V)},children:t=>(()=>{const a=se(),f=a.firstChild,n=f.nextSibling;return e(f,()=>l(t)),n.addEventListener("change",()=>z(t)),k(n,"aria-label",t),$(()=>n.checked=t===H()),a})()})),e(x,()=>l("autoCloseConns")),S.addEventListener("change",t=>U(t.target.checked)),e(i,()=>l("urlForDelayTest")),h.addEventListener("change",t=>{var a;return W((a=t.target)==null?void 0:a.value)}),$(()=>y.checked=w()),$(()=>S.checked=Y()),$(()=>h.value=G()),g})()},me=()=>(()=>{const l=ne();return e(l,o(ae,{}),null),e(l,o(oe,{}),null),e(l,o(ce,{}),null),l})();export{me as default};
