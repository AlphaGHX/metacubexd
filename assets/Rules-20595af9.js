import{c as R,u as B,a as F,o as U,i as e,f as d,a9 as A,F as q,S as z,n as h,d as O}from"./vendor-a821092a.js";import{I as T}from"./index-d4e52c73.js";import{u as E}from"./index-cb88f09e.js";import{f as D}from"./proxies-c53981d7.js";const g=E(),G=()=>{const[u,p]=R([]),[r,x]=R([]),o=async()=>{const{rules:a}=await g.get("rules").json();p(Object.values(a));const{providers:m}=await g.get("providers/rules").json();x(Object.values(m))};return{rules:u,rulesProviders:r,updateRules:o,updateAllRuleProvider:async()=>{await Promise.all(r().map(a=>g.put(`providers/rules/${a.name}`))),await o()},updateRuleProviderByName:async a=>{await g.put(`providers/rules/${a}`),await o()}}},H=h('<div class="flex-1"><h1 class="flex h-11 items-center pb-4 text-lg font-semibold"><button class="btn btn-circle btn-ghost btn-sm ml-2">'),J=h('<div class="flex w-full flex-row gap-4"><div class="flex-1"><h1 class="pb-4 text-lg font-semibold">'),K=h('<div class="card card-bordered card-compact mb-2 bg-base-200 p-4"><div class="break-all"></div><div class="text-xs text-slate-500"> :: '),Q=h('<div class="card card-bordered card-compact mb-2 bg-base-200 p-4"><div class="flex h-6 items-center justify-between"><span> (<!>)</span><div><button class="btn btn-circle btn-sm mr-2"></button></div></div><div class="text-xs text-slate-500"> / <!> / Updated '),Z=()=>{const[u]=B(),{rules:p,rulesProviders:r,updateRules:x,updateAllRuleProvider:o,updateRuleProviderByName:C}=G(),[_,a]=R(100),m=F(()=>p().slice(0,_()));U(async()=>{x()});const I=async(s,n)=>{const b=s.target;b.classList.add("animate-spin"),s.stopPropagation(),await C(n),b.classList.remove("animate-spin")},L=async s=>{const n=s.target;n.classList.add("animate-spin"),s.stopPropagation(),await o(),n.classList.remove("animate-spin")};return(()=>{const s=J(),n=s.firstChild,b=n.firstChild;return e(b,()=>u("rules")),e(n,d(T,{get each(){return m()},get hasMore(){return m().length<p().length},next:()=>a(_()+100),children:l=>(()=>{const c=K(),i=c.firstChild,t=i.nextSibling,v=t.firstChild;return e(i,()=>l.payload,null),e(i,()=>l.size!==-1&&` (${l.size})`,null),e(t,()=>l.type,v),e(t,()=>l.proxy,null),c})()}),null),e(s,d(z,{get when(){return r().length>0},get children(){const l=H(),c=l.firstChild,i=c.firstChild;return e(c,()=>u("ruleProviders"),i),i.$$click=t=>L(t),e(i,d(A,{})),e(l,d(q,{get each(){return r()},children:t=>(()=>{const v=Q(),w=v.firstChild,$=w.firstChild,y=$.firstChild,S=y.nextSibling;S.nextSibling;const M=$.nextSibling,P=M.firstChild,f=w.nextSibling,k=f.firstChild,j=k.nextSibling;return j.nextSibling,e($,()=>t.name,y),e($,()=>t.ruleCount,S),P.$$click=N=>I(N,t.name),e(P,d(A,{})),e(f,()=>t.vehicleType,k),e(f,()=>t.behavior,j),e(f,()=>D(t.updatedAt),null),v})()}),null),l}}),null),s})()};O(["click"]);export{Z as default};
