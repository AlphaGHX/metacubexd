import{c as _,x as w,i as a,e as p,F as h,S as R,J as E,h as g,s as S,l as i,d as j}from"./vendor-48c5660e.js";import{c as q,v as F,z as r}from"./index-bb44c23f.js";import{u as L}from"./index-1abad738.js";const M=i('<div class="flex flex-col p-4">'),z=i('<div><form class="flex items-center gap-2"><input class="input input-bordered flex-1"><button type="submit" class="btn btn-primary">DNS Query</button></form><form class="contents">'),A=i('<div class="py-2">'),H=i('<div class="form-control w-64 max-w-xs"><label class="label"><span class="label-text"></span></label><input type="number" class="input input-bordered">'),I=r.object({port:r.number(),"socks-port":r.number(),"redir-port":r.number(),"tproxy-port":r.number(),"mixed-port":r.number()}),B=()=>{const d=L(),[m,k]=_(""),[b,N]=_([]),f=()=>d.get("dns/query",{searchParams:{name:m()}}).json().then(({Answer:t})=>{N(t.map(({data:s})=>s))}),D=[{label:"Http Port",key:"port"},{label:"Socks Port",key:"socks-port"},{label:"Redir Port",key:"redir-port"},{label:"Tproxy Port",key:"tproxy-port"},{label:"Mixed Port",key:"mixed-port"}],{form:y,setInitialValues:C,reset:P}=q({extend:F({schema:I})});return w(async()=>{const t=await d.get("configs").json();C(t),P()}),(()=>{const t=z(),s=t.firstChild,c=s.firstChild,u=s.nextSibling;return s.addEventListener("submit",e=>{e.preventDefault(),f()}),c.$$input=e=>k(e.target.value),c.addEventListener("submit",f),a(t,p(R,{get when(){return b().length>0},get children(){const e=M();return a(e,p(h,{get each(){return b()},children:o=>(()=>{const n=A();return a(n,o),n})()})),e}}),u),E(y,u,()=>y),a(u,p(h,{each:D,children:e=>(()=>{const o=H(),n=o.firstChild,Q=n.firstChild,v=n.nextSibling;return a(Q,()=>e.label),g(l=>{const $=e.key,x=e.label;return $!==l._v$&&S(v,"name",l._v$=$),x!==l._v$2&&S(v,"placeholder",l._v$2=x),l},{_v$:void 0,_v$2:void 0}),o})()})),g(()=>c.value=m()),t})()};j(["input"]);export{B as default};
