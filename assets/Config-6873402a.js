import{c as h,v as w,i as a,b as p,F as x,S as R,C as E,f as g,s as S,h as i,d as j}from"./vendor-c5e716b7.js";import{c as q,v as F,z as r}from"./index-71d1c293.js";import{u as L}from"./index-d842f6ea.js";const M=i('<div class="flex flex-col p-4">'),z=i('<div><form class="flex items-center gap-2"><input class="input input-bordered flex-1"><button type="submit" class="btn btn-primary">DNS Query</button></form><form class="contents">'),A=i('<div class="py-2">'),H=i('<div class="form-control w-64 max-w-xs"><label class="label"><span class="label-text"></span></label><input type="number" class="input input-bordered">'),I=r.object({port:r.number(),"socks-port":r.number(),"redir-port":r.number(),"tproxy-port":r.number(),"mixed-port":r.number()}),G=()=>{const d=L(),[m,k]=h(""),[b,N]=h([]),f=()=>d.get("dns/query",{searchParams:{name:m()}}).json().then(({Answer:t})=>{N(t.map(({data:s})=>s))}),C=[{label:"Http Port",key:"port"},{label:"Socks Port",key:"socks-port"},{label:"Redir Port",key:"redir-port"},{label:"Tproxy Port",key:"tproxy-port"},{label:"Mixed Port",key:"mixed-port"}],{form:v,setInitialValues:D,reset:P}=q({extend:F({schema:I})});return w(async()=>{const t=await d.get("configs").json();D(t),P()}),(()=>{const t=z(),s=t.firstChild,c=s.firstChild,u=s.nextSibling;return s.addEventListener("submit",e=>{e.preventDefault(),f()}),c.$$input=e=>k(e.target.value),c.addEventListener("submit",f),a(t,p(R,{get when(){return b().length>0},get children(){const e=M();return a(e,p(x,{get each(){return b()},children:o=>(()=>{const n=A();return a(n,o),n})()})),e}}),u),E(v,u,()=>v),a(u,p(x,{each:C,children:e=>(()=>{const o=H(),n=o.firstChild,Q=n.firstChild,y=n.nextSibling;return a(Q,()=>e.label),g(l=>{const $=e.key,_=e.label;return $!==l._v$&&S(y,"name",l._v$=$),_!==l._v$2&&S(y,"placeholder",l._v$2=_),l},{_v$:void 0,_v$2:void 0}),o})()})),g(()=>c.value=m()),t})()};j(["input"]);export{G as default};
