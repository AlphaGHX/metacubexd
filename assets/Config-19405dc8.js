import{i as e,c as s,b as d,r as G,f as E,B as Y,F as y,S as Z,R as J,p as g,G as B,n as j,Q as se,a7 as ne}from"./vendor-8e04e26c.js";import{z as v,c as K,v as ee}from"./index-3cbfbe76.js";import{c as A,B as S,y as le,z as re,A as ae,E as ie,F as ce,G as oe,H as de,n as ue,I as ge,J as pe,K as he,T as me,M as O,p as ve,v as fe,k as be,b as _e,R as $e,x as xe,N as ye,O as X,Q as Ce,S as I,U as Se,V as Te,W as we,X as H,Y as Ee,Z as ke,_ as Le}from"./index-c2e38c1c.js";const Pe=d('<div class="pb-4 text-lg font-semibold">'),Re=d('<div class="flex flex-col p-4">'),De=d('<div class="flex flex-col"><form class="flex flex-col gap-2 sm:flex-row"><input type="search" name="name" class="input input-bordered w-full sm:flex-1"><div class="flex items-center gap-2"><select name="type" class="select select-bordered"><option>A</option><option>AAAA</option><option>MX'),Fe=d('<div class="py-2">'),Ne=d('<div class="flex flex-col gap-4"><form class="contents"></form><div class="flex flex-wrap items-center gap-2"></div><div class="flex flex-col"><input class="input input-bordered max-w-md"></div><div><input type="number" class="input input-bordered w-full max-w-md"></div><div><input class="toggle" type="checkbox">'),Oe=d('<div class="form-control w-64 max-w-sm"><label class="label"><span class="label-text"></span></label><input type="number" class="input input-bordered">'),W=d('<div class="flex flex-col"><select class="select select-bordered w-full max-w-xs">'),L=d("<option>"),Ie=d('<div class="grid gap-4"><div><select class="select select-bordered w-full max-w-xs"></select></div><div><select class="select select-bordered w-full max-w-xs"></select></div><div><select class="select select-bordered w-full max-w-xs"></select></div><div></div><div>'),je=d('<div class="flex flex-col"><input type="checkbox" class="toggle">'),Ge=d('<option class="flex items-center gap-2">'),Ae=d('<div class="flex gap-4"><kbd class="kbd"></kbd><kbd class="kbd">'),Qe=d('<div class="flex flex-col gap-4">'),Ue=v.object({name:v.string(),type:v.string()}),f=t=>(()=>{const o=Pe();return e(o,ne(()=>t.children)),o})(),Me=()=>{const[t]=G(),o=A(),{form:b,isSubmitting:u}=K({extend:ee({schema:Ue}),onSubmit:async l=>{o.get("dns/query",{searchParams:{name:l.name,type:l.type}}).json().then(({Answer:r})=>C((r==null?void 0:r.map(({data:a})=>a))||[]))}}),[_,C]=E([]);return(()=>{const l=De(),r=l.firstChild,a=r.firstChild,c=a.nextSibling;return c.firstChild,Y(b,r,()=>b),e(c,s(S,{type:"submit",class:"btn-primary",get loading(){return u()},get children(){return t("dnsQuery")}}),null),e(l,s(Z,{get when(){return _().length>0},get children(){const p=Re();return e(p,s(y,{get each(){return _()},children:$=>(()=>{const h=Fe();return e(h,$),h})()})),p}}),null),l})()},Ve=v.object({port:v.number(),"socks-port":v.number(),"redir-port":v.number(),"tproxy-port":v.number(),"mixed-port":v.number()}),qe=()=>{const[t]=G(),o=A(),b=[{label:"Http Port",key:"port"},{label:"Socks Port",key:"socks-port"},{label:"Redir Port",key:"redir-port"},{label:"Tproxy Port",key:"tproxy-port"},{label:"Mixed Port",key:"mixed-port"}],{form:u,setInitialValues:_,reset:C}=K({extend:ee({schema:Ve})});J(async()=>{const n=await o.get("configs").json();_(n),C()});const[l,r]=E(!1),[a,c]=E(!1),[p,$]=E(!1),h=async()=>{r(!0);try{await o.post("configs/geo")}catch{}r(!1)},k=async()=>{c(!0);try{await o.post("upgrade")}catch{}c(!1)},P=async()=>{$(!0);try{await o.post("restart")}catch{}$(!1)};return(()=>{const n=Ne(),i=n.firstChild,x=i.nextSibling,T=x.nextSibling,R=T.firstChild,D=T.nextSibling,F=D.firstChild,Q=D.nextSibling,N=Q.firstChild;return Y(u,i,()=>u),e(i,s(y,{each:b,children:m=>(()=>{const U=Oe(),M=U.firstChild,te=M.firstChild,V=M.nextSibling;return e(te,()=>m.label),g(w=>{const q=m.key,z=m.label;return q!==w._v$&&B(V,"name",w._v$=q),z!==w._v$2&&B(V,"placeholder",w._v$2=z),w},{_v$:void 0,_v$2:void 0}),U})()})),e(x,s(S,{get loading(){return l()},onClick:h,get children(){return t("updateGEODatabases")}}),null),e(x,s(S,{get loading(){return a()},onClick:k,get children(){return t("upgradeCore")}}),null),e(x,s(S,{get loading(){return p()},onClick:P,get children(){return t("restartCore")}}),null),e(T,s(f,{get children(){return t("urlForLatencyTest")}}),R),R.addEventListener("change",m=>le(m.target.value)),e(D,s(f,{get children(){return[j(()=>t("latencyTestTimeoutDuration"))," (",j(()=>t("ms")),")"]}}),F),F.addEventListener("change",m=>re(Number(m.target.value))),e(Q,s(f,{get children(){return t("autoCloseConns")}}),N),N.addEventListener("change",m=>ae(m.target.checked)),g(()=>R.value=ie()),g(()=>F.value=ce()),g(()=>N.checked=oe()),n})()},ze=()=>{const[t,{locale:o}]=G(),b=se(),u=()=>{_e(""),b($e.Setup)},C=[{label:"renderInTwoColumns",value:xe,onChange:ye},{label:"autoSwitchTheme",value:X,onChange:l=>{Ce(l),I()},subChild:()=>s(Z,{get when(){return X()},get children(){return[(()=>{const l=W(),r=l.firstChild;return e(l,s(f,{get children(){return t("favDayTheme")}}),r),r.addEventListener("change",a=>{we(a.target.value),I()}),e(r,s(y,{each:H,children:a=>(()=>{const c=L();return c.value=a,e(c,a),g(()=>c.selected=Ee()===a),c})()})),l})(),(()=>{const l=W(),r=l.firstChild;return e(l,s(f,{get children(){return t("favNightTheme")}}),r),r.addEventListener("change",a=>{ke(a.target.value),I()}),e(r,s(y,{each:H,children:a=>(()=>{const c=L();return c.value=a,e(c,a),g(()=>c.selected=Le()===a),c})()})),l})()]}})},{label:"useTwemoji",value:Se,onChange:Te}];return(()=>{const l=Ie(),r=l.firstChild,a=r.firstChild,c=r.nextSibling,p=c.firstChild,$=c.nextSibling,h=$.firstChild,k=$.nextSibling,P=k.nextSibling;return e(l,s(y,{each:C,children:n=>[(()=>{const i=je(),x=i.firstChild;return e(i,s(f,{get children(){return t(n.label)}}),x),x.addEventListener("change",T=>{n.onChange(T.target.checked)}),g(()=>x.checked=n.value()),i})(),j(()=>{var i;return(i=n.subChild)==null?void 0:i.call(n)})]}),r),e(r,s(f,{get children(){return t("proxiesPreviewType")}}),a),a.addEventListener("change",n=>de(n.target.value)),e(a,s(y,{get each(){return Object.values(ue)},children:n=>(()=>{const i=L();return i.value=n,e(i,()=>t(n)),i})()})),e(c,s(f,{get children(){return t("proxiesSorting")}}),p),p.addEventListener("change",n=>ge(n.target.value)),e(p,s(y,{get each(){return Object.values(pe)},children:n=>(()=>{const i=Ge();return i.value=n,e(i,()=>t(n)),i})()})),e($,s(f,{get children(){return t("tableSize")}}),h),h.addEventListener("change",n=>he(n.target.value)),e(h,s(y,{get each(){return Object.values(me)},children:n=>(()=>{const i=L();return i.value=n,e(i,()=>t(n)),i})()})),e(k,s(S,{onClick:()=>{const n=o();o(n===O.EN?O.ZH:O.EN)},get children(){return t("switchLanguage")}})),e(P,s(S,{onClick:u,get children(){return t("switchEndpoint")}})),g(()=>a.value=ve()),g(()=>p.value=fe()),g(()=>h.value=be()),l})()},Be=()=>{const t=A(),[o,b]=E("");return J(async()=>{const{version:u}=await t.get("version").json();b(u)}),(()=>{const u=Ae(),_=u.firstChild,C=_.nextSibling;return e(_,()=>"1.87.0"),e(C,o),u})()},Ye=()=>(()=>{const t=Qe();return e(t,s(Me,{}),null),e(t,s(qe,{}),null),e(t,s(ze,{}),null),e(t,s(Be,{}),null),t})();export{Ye as default};
