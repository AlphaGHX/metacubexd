import{i as e,c as n,b as g,u as A,f as j,U as z,F as w,S as V,H as W,j as c,r as G}from"./vendor-a313f5e6.js";import{z as u,c as Y,v as J}from"./index-4b33cc6b.js";import{u as K,B as N,t as Z,v as ee,x as te,y as U,z as M,A as le,E as q,F as se,G as ne,H as ie,n as re,I as ae,m as oe,J as ce,K as de,p as ge,M as pe,N as ue,O as fe,l as he,r as me,Q as xe,R as be,S as ve}from"./index-f24519d7.js";const _e=g('<div class="flex flex-col p-4">'),$e=g('<div class="flex flex-col"><form class="flex flex-col gap-2 sm:flex-row"><input name="name" class="input input-bordered w-full sm:flex-1"><div class="flex items-center gap-2"><select name="type" class="select select-bordered"><option>A</option><option>AAAA</option><option>MX'),ye=g('<div class="py-2">'),Se=g('<div class="flex flex-col gap-2"><form class="contents"></form><div class="flex flex-wrap items-center gap-2">'),Ce=g('<div class="form-control w-64 max-w-sm"><label class="label"><span class="label-text"></span></label><input type="number" class="input input-bordered">'),X=g('<div class="flex flex-col"><div class="pb-4 text-lg font-semibold"></div><select class="select select-bordered w-full max-w-xs">'),ke=g('<div class="grid gap-4"><div class="flex flex-col"><div class="pb-4 text-lg font-semibold"></div><input type="checkbox" class="toggle"></div><div class="flex flex-col"><div class="pb-4 text-lg font-semibold"></div><input type="checkbox" class="toggle"></div><div class="flex flex-col"><div class="pb-4 text-lg font-semibold"></div><input type="checkbox" class="toggle"></div><div><div class="pb-4 text-lg font-semibold"></div><div class="flex items-center gap-4"></div></div><div><div class="pb-4 text-lg font-semibold"></div><div class="flex flex-col gap-4"></div></div><div><div class="pb-4 text-lg font-semibold"></div><input class="toggle" type="checkbox"></div><div><div class="pb-4 text-lg font-semibold"></div><input class="toggle" type="checkbox"></div><div class="flex flex-col"><div class="pb-4 text-lg font-semibold"></div><input class="w-100 input input-bordered max-w-md">'),B=g("<option>"),H=g('<label class="flex items-center gap-2"><span></span><input class="radio" type="radio">'),Te=g('<div class="flex flex-col gap-4">'),we=u.object({name:u.string(),type:u.string()}),Ee=()=>{const[l]=A(),d=K(),{form:x,isSubmitting:b}=Y({extend:J({schema:we}),onSubmit:async r=>{d.get("dns/query",{searchParams:{name:r.name,type:r.type}}).json().then(({Answer:i})=>C((i==null?void 0:i.map(({data:f})=>f))||[]))}}),[v,C]=j([]);return(()=>{const r=$e(),i=r.firstChild,f=i.firstChild,h=f.nextSibling;return h.firstChild,z(x,i,()=>x),e(h,n(N,{type:"submit",class:"btn-primary",get loading(){return b()},get children(){return l("dnsQuery")}}),null),e(r,n(V,{get when(){return v().length>0},get children(){const _=_e();return e(_,n(w,{get each(){return v()},children:m=>(()=>{const $=ye();return e($,m),$})()})),_}}),null),r})()},Pe=u.object({port:u.number(),"socks-port":u.number(),"redir-port":u.number(),"tproxy-port":u.number(),"mixed-port":u.number()}),Re=()=>{const[l]=A(),d=K(),x=[{label:"Http Port",key:"port"},{label:"Socks Port",key:"socks-port"},{label:"Redir Port",key:"redir-port"},{label:"Tproxy Port",key:"tproxy-port"},{label:"Mixed Port",key:"mixed-port"}],{form:b,setInitialValues:v,reset:C}=Y({extend:J({schema:Pe})});W(async()=>{const y=await d.get("configs").json();v(y),C()});const[r,i]=j(!1),[f,h]=j(!1),[_,m]=j(!1),$=async()=>{i(!0);try{await d.post("configs/geo")}catch{}i(!1)},Q=async()=>{h(!0);try{await d.post("upgrade")}catch{}h(!1)},O=async()=>{m(!0);try{await d.post("restart")}catch{}m(!1)};return(()=>{const y=Se(),E=y.firstChild,k=E.nextSibling;return z(b,E,()=>b),e(E,n(w,{each:x,children:T=>(()=>{const P=Ce(),R=P.firstChild,D=R.firstChild,F=R.nextSibling;return e(D,()=>T.label),c(S=>{const L=T.key,I=T.label;return L!==S._v$&&G(F,"name",S._v$=L),I!==S._v$2&&G(F,"placeholder",S._v$2=I),S},{_v$:void 0,_v$2:void 0}),P})()})),e(k,n(N,{get loading(){return r()},onClick:$,get children(){return l("updateGEODatabases")}}),null),e(k,n(N,{get loading(){return f()},onClick:Q,get children(){return l("upgradeCore")}}),null),e(k,n(N,{get loading(){return _()},onClick:O,get children(){return l("restartCore")}}),null),y})()},Fe=()=>{const[l]=A();return(()=>{const d=ke(),x=d.firstChild,b=x.firstChild,v=b.nextSibling,C=x.nextSibling,r=C.firstChild,i=r.nextSibling,f=C.nextSibling,h=f.firstChild,_=h.nextSibling,m=f.nextSibling,$=m.firstChild,Q=$.nextSibling,O=m.nextSibling,y=O.firstChild,E=y.nextSibling,k=O.nextSibling,T=k.firstChild,P=T.nextSibling,R=k.nextSibling,D=R.firstChild,F=D.nextSibling,S=R.nextSibling,L=S.firstChild,I=L.nextSibling;return e(b,()=>l("renderInTwoColumns")),v.addEventListener("change",t=>{Z(t.target.checked)}),e(r,()=>l("renderProxiesInSamePage")),i.addEventListener("change",t=>{ee(t.target.checked)}),e(h,()=>l("autoSwitchTheme")),_.addEventListener("change",t=>{te(t.target.checked),U()}),e(d,n(V,{get when(){return M()},get children(){return[(()=>{const t=X(),a=t.firstChild,o=a.nextSibling;return e(a,()=>l("favDayTheme")),o.addEventListener("change",s=>{le(s.target.value),U()}),e(o,n(w,{each:q,children:s=>(()=>{const p=B();return p.value=s,e(p,s),c(()=>p.selected=se()===s),p})()})),t})(),(()=>{const t=X(),a=t.firstChild,o=a.nextSibling;return e(a,()=>l("favNightTheme")),o.addEventListener("change",s=>{ne(s.target.value),U()}),e(o,n(w,{each:q,children:s=>(()=>{const p=B();return p.value=s,e(p,s),c(()=>p.selected=ie()===s),p})()})),t})()]}}),m),e($,()=>l("proxiesPreviewType")),e(Q,n(w,{get each(){return Object.values(re)},children:t=>(()=>{const a=H(),o=a.firstChild,s=o.nextSibling;return e(o,()=>l(t)),s.addEventListener("change",()=>ae(t)),G(s,"aria-label",t),c(()=>s.checked=t===oe()),a})()})),e(y,()=>l("proxiesSorting")),e(E,n(w,{get each(){return Object.values(ce)},children:t=>(()=>{const a=H(),o=a.firstChild,s=o.nextSibling;return e(o,()=>l(t)),s.addEventListener("change",()=>de(t)),G(s,"aria-label",t),c(()=>s.checked=t===ge()),a})()})),e(T,()=>l("autoCloseConns")),P.addEventListener("change",t=>pe(t.target.checked)),e(D,()=>l("useTwemoji")),F.addEventListener("change",t=>ue(t.target.checked)),e(L,()=>l("urlForLatencyTest")),I.addEventListener("change",t=>fe(t.target.value)),c(()=>v.checked=he()),c(()=>i.checked=me()),c(()=>_.checked=M()),c(()=>P.checked=xe()),c(()=>F.checked=be()),c(()=>I.value=ve()),d})()},De=()=>(()=>{const l=Te();return e(l,n(Ee,{}),null),e(l,n(Re,{}),null),e(l,n(Fe,{}),null),e(l,()=>"1.68.0",null),l})();export{De as default};
