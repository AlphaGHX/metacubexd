import{i as e,c as n,b as g,u as I,f as F,U as M,F as k,S as Q,H as z,j as p,r as L}from"./vendor-bcbfc1b2.js";import{z as f,c as X,v as B}from"./index-f06daa74.js";import{u as H,B as R,q as V,r as Y,t as D,v as j,x as J,y as G,z as K,A as W,E as Z,m as ee,G as te,l as se,H as le,I as ne,p as re,J as ae,K as ie,M as oe,N as ce,O as de}from"./index-1b761b71.js";const ge=g('<div class="flex flex-col p-4">'),ue=g('<div class="flex flex-col"><form class="flex flex-col gap-2 sm:flex-row"><input name="name" class="input input-bordered w-full sm:flex-1"><div class="flex items-center gap-2"><select name="type" class="select select-bordered"><option>A</option><option>AAAA</option><option>MX'),pe=g('<div class="py-2">'),fe=g('<div class="flex flex-col gap-2"><form class="contents"></form><div class="flex flex-wrap items-center gap-2">'),he=g('<div class="form-control w-64 max-w-sm"><label class="label"><span class="label-text"></span></label><input type="number" class="input input-bordered">'),U=g('<div class="flex flex-col"><div class="pb-4 text-lg font-semibold"></div><select class="select select-bordered w-full max-w-xs">'),me=g('<div class="grid gap-4"><div class="flex flex-col"><div class="pb-4 text-lg font-semibold"></div><input type="checkbox" class="toggle"></div><div class="flex flex-col"><div class="pb-4 text-lg font-semibold"></div><input type="checkbox" class="toggle"></div><div><div class="pb-4 text-lg font-semibold"></div><div class="flex items-center gap-4"></div></div><div><div class="pb-4 text-lg font-semibold"></div><div class="flex flex-col gap-4"></div></div><div><div class="pb-4 text-lg font-semibold"></div><input class="toggle" type="checkbox"></div><div class="flex flex-col"><div class="pb-4 text-lg font-semibold"></div><input class="w-100 input input-bordered max-w-md">'),q=g("<option>"),A=g('<label class="flex items-center gap-2"><span></span><input class="radio" type="radio">'),xe=g('<div class="flex flex-col gap-4">'),be=f.object({name:f.string(),type:f.string()}),ve=()=>{const[l]=I(),d=H(),{form:m,isSubmitting:x}=X({extend:B({schema:be}),onSubmit:async c=>{d.get("dns/query",{searchParams:{name:c.name,type:c.type}}).json().then(({Answer:i})=>y((i==null?void 0:i.map(({data:u})=>u))||[]))}}),[b,y]=F([]);return(()=>{const c=ue(),i=c.firstChild,u=i.firstChild,h=u.nextSibling;return h.firstChild,M(m,i,()=>m),e(h,n(R,{type:"submit",class:"btn-primary",get loading(){return x()},get children(){return l("dnsQuery")}}),null),e(c,n(Q,{get when(){return b().length>0},get children(){const C=ge();return e(C,n(k,{get each(){return b()},children:v=>(()=>{const _=pe();return e(_,v),_})()})),C}}),null),c})()},_e=f.object({port:f.number(),"socks-port":f.number(),"redir-port":f.number(),"tproxy-port":f.number(),"mixed-port":f.number()}),$e=()=>{const[l]=I(),d=H(),m=[{label:"Http Port",key:"port"},{label:"Socks Port",key:"socks-port"},{label:"Redir Port",key:"redir-port"},{label:"Tproxy Port",key:"tproxy-port"},{label:"Mixed Port",key:"mixed-port"}],{form:x,setInitialValues:b,reset:y}=X({extend:B({schema:_e})});z(async()=>{const $=await d.get("configs").json();b($),y()});const[c,i]=F(!1),[u,h]=F(!1),[C,v]=F(!1),_=async()=>{i(!0);try{await d.post("configs/geo")}catch{}i(!1)},O=async()=>{h(!0);try{await d.post("upgrade")}catch{}h(!1)},P=async()=>{v(!0);try{await d.post("restart")}catch{}v(!1)};return(()=>{const $=fe(),S=$.firstChild,w=S.nextSibling;return M(x,S,()=>x),e(S,n(k,{each:m,children:T=>(()=>{const E=he(),t=E.firstChild,a=t.firstChild,r=t.nextSibling;return e(a,()=>T.label),p(s=>{const o=T.key,N=T.label;return o!==s._v$&&L(r,"name",s._v$=o),N!==s._v$2&&L(r,"placeholder",s._v$2=N),s},{_v$:void 0,_v$2:void 0}),E})()})),e(w,n(R,{get loading(){return c()},onClick:_,get children(){return l("updateGEODatabases")}}),null),e(w,n(R,{get loading(){return C()},onClick:P,get children(){return l("restartCore")}}),null),e(w,n(R,{get loading(){return u()},onClick:O,get children(){return l("upgradeCore")}}),null),$})()},ye=()=>{const[l]=I();return(()=>{const d=me(),m=d.firstChild,x=m.firstChild,b=x.nextSibling,y=m.nextSibling,c=y.firstChild,i=c.nextSibling,u=y.nextSibling,h=u.firstChild,C=h.nextSibling,v=u.nextSibling,_=v.firstChild,O=_.nextSibling,P=v.nextSibling,$=P.firstChild,S=$.nextSibling,w=P.nextSibling,T=w.firstChild,E=T.nextSibling;return e(x,()=>l("renderInTwoColumns")),b.addEventListener("change",t=>{V(t.target.checked)}),e(c,()=>l("autoSwitchTheme")),i.addEventListener("change",t=>{Y(t.target.checked),D()}),e(d,n(Q,{get when(){return j()},get children(){return[(()=>{const t=U(),a=t.firstChild,r=a.nextSibling;return e(a,()=>l("favDayTheme")),r.addEventListener("change",s=>{J(s.target.value),D()}),e(r,n(k,{each:G,children:s=>(()=>{const o=q();return o.value=s,e(o,s),p(()=>o.selected=K()===s),o})()})),t})(),(()=>{const t=U(),a=t.firstChild,r=a.nextSibling;return e(a,()=>l("favNightTheme")),r.addEventListener("change",s=>{W(s.target.value),D()}),e(r,n(k,{each:G,children:s=>(()=>{const o=q();return o.value=s,e(o,s),p(()=>o.selected=Z()===s),o})()})),t})()]}}),u),e(h,()=>l("proxiesPreviewType")),e(C,n(k,{get each(){return Object.values(ee)},children:t=>(()=>{const a=A(),r=a.firstChild,s=r.nextSibling;return e(r,()=>l(t)),s.addEventListener("change",()=>te(t)),L(s,"aria-label",t),p(()=>s.checked=t===se()),a})()})),e(_,()=>l("proxiesSorting")),e(O,n(k,{get each(){return Object.values(le)},children:t=>(()=>{const a=A(),r=a.firstChild,s=r.nextSibling;return e(r,()=>l(t)),s.addEventListener("change",()=>ne(t)),L(s,"aria-label",t),p(()=>s.checked=t===re()),a})()})),e($,()=>l("autoCloseConns")),S.addEventListener("change",t=>ae(t.target.checked)),e(T,()=>l("urlForLatencyTest")),E.addEventListener("change",t=>ie(t.target.value)),p(()=>b.checked=oe()),p(()=>i.checked=j()),p(()=>S.checked=ce()),p(()=>E.value=de()),d})()},ke=()=>(()=>{const l=xe();return e(l,n(ve,{}),null),e(l,n($e,{}),null),e(l,n(ye,{}),null),l})();export{ke as default};
