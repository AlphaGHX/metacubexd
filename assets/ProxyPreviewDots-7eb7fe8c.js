import{f as L,h as o,c as i,ah as D,S as x,i as $,j as P,b as N,F as I,l as O,t as T}from"./vendor-bcbfc1b2.js";import{P as H,m as b,n as u,h as C,o as d,L as R}from"./index-29cbe793.js";const V=e=>{const[l,t]=L(100),n=o(()=>e.proxyNames.slice(0,l()));return i(D,{get each(){return n()},get hasMore(){return n().length<e.proxyNames.length},next:()=>t(l()+30),children:a=>i(H,{proxyName:a,get isSelected(){return e.now===a},onClick:()=>{var s;(s=e.onClick)==null||s.call(e,a)}})})},W=e=>{const l=()=>b()===u.OFF,t=o(()=>e.proxyNameList.length<=30),n=o(()=>{const s=b();return s===u.BAR||s===u.Auto&&!t()}),a=o(()=>{const s=b();return s===u.DOTS||s===u.Auto&&t()});return i(x,{get when(){return!l()},get children(){return[i(x,{get when(){return n()},get children(){return i(F,{get proxyNameList(){return e.proxyNameList},get now(){return e.now}})}}),i(x,{get when(){return a()},get children(){return i(k,{get proxyNameList(){return e.proxyNameList},get now(){return e.now}})}})]}})},G=N('<div class="flex h-6 w-full items-center gap-2"><div class="flex flex-1 overflow-hidden rounded-2xl"><div class="h-2 bg-success"></div><div class="h-2 bg-warning"></div><div class="h-2 bg-error"></div><div class="h-2 bg-neutral">'),F=e=>{const{latencyMap:l}=C(),t=o(()=>e.proxyNameList.map(r=>l()[r])),n=o(()=>t().length),a=o(()=>t().filter(r=>r>d().NOT_CONNECTED&&r<=d().MEDIUM).length),s=o(()=>t().filter(r=>r>d().MEDIUM&&r<=d().HIGH).length),E=o(()=>t().filter(r=>r>d().HIGH).length),S=o(()=>t().filter(r=>r===d().NOT_CONNECTED).length);return(()=>{const r=G(),M=r.firstChild,h=M.firstChild,g=h.nextSibling,y=g.nextSibling,_=y.nextSibling;return $(r,i(R,{get name(){return e.now}}),null),P(c=>{const w=`${a()*100/n()}%`,m=`${s()*100/n()}%`,v=`${E()*100/n()}%`,f=`${S()*100/n()}%`;return w!==c._v$&&((c._v$=w)!=null?h.style.setProperty("width",w):h.style.removeProperty("width")),m!==c._v$2&&((c._v$2=m)!=null?g.style.setProperty("width",m):g.style.removeProperty("width")),v!==c._v$3&&((c._v$3=v)!=null?y.style.setProperty("width",v):y.style.removeProperty("width")),f!==c._v$4&&((c._v$4=f)!=null?_.style.setProperty("width",f):_.style.removeProperty("width")),c},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),r})()},A=N("<div>"),B=N('<div class="flex w-full flex-wrap items-center">'),U=e=>{let l=e.selected?"bg-white border-4 border-success":"bg-success";return typeof e.latency!="number"||e.latency===d().NOT_CONNECTED?l=e.selected?"bg-white border-4 border-neutral":"bg-neutral":e.latency>d().HIGH?l=e.selected?"bg-white border-4 border-error":"bg-error":e.latency>d().MEDIUM&&(l=e.selected?"bg-white border-4 border-warning":"bg-warning"),(()=>{const t=A();return P(()=>O(t,T("m-1 h-4 w-4 rounded-full",l))),t})()},k=e=>{const{latencyMap:l}=C();return(()=>{const t=B();return $(t,i(I,{get each(){return e.proxyNameList.map(n=>[n,l()[n]])},children:([n,a])=>{const s=e.now===n;return i(U,{latency:a,selected:s})}})),t})()};export{W as P,V as a};
