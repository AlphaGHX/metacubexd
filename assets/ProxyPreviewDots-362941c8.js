import{e as M,g as o,c as i,af as D,S as x,i as $,h as T,b,F as O,j as I,t as A}from"./vendor-1926fad9.js";import{P as H,p as _,h as u,f as C,l as c,L as R,i as G,j as Y,k as B}from"./index-732f3e54.js";const X=e=>{const[s,t]=M(100),r=o(()=>e.proxies.slice(0,s()));return i(D,{get each(){return r()},get hasMore(){return r().length<e.proxies.length},next:()=>t(s()+30),children:a=>i(H,{proxyName:a,get isSelected(){return e.now===a},onClick:()=>{var l;(l=e.onClick)==null||l.call(e,a)}})})},q=e=>{const s=()=>_()===u.OFF,t=o(()=>e.proxyNameList.length<=30),r=o(()=>{const l=_();return l===u.BAR||l===u.Auto&&!t()}),a=o(()=>{const l=_();return l===u.DOTS||l===u.Auto&&t()});return i(x,{get when(){return!s()},get children(){return[i(x,{get when(){return r()},get children(){return i(U,{get proxyNameList(){return e.proxyNameList},get now(){return e.now}})}}),i(x,{get when(){return a()},get children(){return i(p,{get proxyNameList(){return e.proxyNameList},get now(){return e.now}})}})]}})},F=b('<div class="flex h-6 w-full items-center"><div class="flex flex-1 overflow-hidden rounded-2xl"><div class="h-2 bg-success"></div><div class="h-2 bg-warning"></div><div class="h-2 bg-error"></div><div class="h-2 bg-neutral"></div></div><div class="ml-3 w-8 text-xs">'),U=e=>{const{delayMap:s}=C(),t=o(()=>e.proxyNameList.map(n=>s()[n])),r=o(()=>t().length),a=o(()=>t().filter(n=>n>c().NOT_CONNECTED&&n<=c().MEDIUM).length),l=o(()=>t().filter(n=>n>c().NOT_CONNECTED&&n<=c().HIGH).length),E=o(()=>t().filter(n=>n>c().HIGH).length),S=o(()=>t().filter(n=>n===c().NOT_CONNECTED||typeof n!="number").length);return(()=>{const n=F(),P=n.firstChild,g=P.firstChild,h=g.nextSibling,y=h.nextSibling,N=y.nextSibling,L=P.nextSibling;return $(L,i(R,{get name(){return e.now}})),T(d=>{const w=`${a()*100/r()}%`,v=`${l()*100/r()}%`,m=`${E()*100/r()}%`,f=`${S()*100/r()}%`;return w!==d._v$&&((d._v$=w)!=null?g.style.setProperty("width",w):g.style.removeProperty("width")),v!==d._v$2&&((d._v$2=v)!=null?h.style.setProperty("width",v):h.style.removeProperty("width")),m!==d._v$3&&((d._v$3=m)!=null?y.style.setProperty("width",m):y.style.removeProperty("width")),f!==d._v$4&&((d._v$4=f)!=null?N.style.setProperty("width",f):N.style.removeProperty("width")),d},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),n})()},k=b("<div>"),Q=b('<div class="flex w-full flex-wrap items-center">'),j=e=>{const s=G()?Y:B;let t=e.selected?"bg-white border-4 border-success":"bg-success";return typeof e.delay!="number"||e.delay===s.NOT_CONNECTED?t=e.selected?"bg-white border-4 border-neutral":"bg-neutral":e.delay>s.HIGH?t=e.selected?"bg-white border-4 border-error":"bg-error":e.delay>s.MEDIUM&&(t=e.selected?"bg-white border-4 border-warning":"bg-warning"),(()=>{const r=k();return T(()=>I(r,A("m-1 h-4 w-4 rounded-full",t))),r})()},p=e=>{const{delayMap:s}=C();return(()=>{const t=Q();return $(t,i(O,{get each(){return e.proxyNameList.map(r=>[r,s()[r]])},children:([r,a])=>{const l=e.now===r;return i(j,{delay:a,selected:l})}})),t})()};export{q as P,X as a};
