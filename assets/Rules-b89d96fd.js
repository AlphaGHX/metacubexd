import{c as f,v as y,J as O,G as I,b as g,F as S,C as L,S as p,h as u,L as T,i as s}from"./vendor-c5e716b7.js";import{u as q}from"./index-21bc65c7.js";const F=u("<div>"),k=u("<div>Loading...");function z(e){let n;const[x,i]=f(!1);y(()=>{const t=new IntersectionObserver(o=>{o[0].isIntersecting?e.hasMore&&(i(!0),e.next()):i(!1)});t.observe(n),O(()=>{t.unobserve(n)})});const a=e.scrollTreshold?e.scrollTreshold+"px":"50px";return I(()=>{e.hasMore||i(!1)}),[g(S,{get each(){return e.each},get children(){return e.children}}),(()=>{const t=F(),o=n;return typeof o=="function"?L(o,t):n=t,a!=null?t.style.setProperty("height",a):t.style.removeProperty("height"),"-"+a!=null?t.style.setProperty("margin-top","-"+a):t.style.removeProperty("margin-top"),t.style.setProperty("z-index","-999"),t})(),g(p,{get when(){return x()},get children(){return e.loadingMessage||k()}}),g(p,{get when(){return!e.hasMore},get children(){return e.endMessage}})]}const E=u('<div class="flex flex-col gap-4"><div><h1 class="pb-4 text-lg font-semibold">Rules</h1><div class="grid grid-cols-1 gap-2 sm:grid-cols-1"></div></div><div><h1 class="pb-4 text-lg font-semibold">Rules Providers</h1><div class="grid grid-cols-1 gap-2 sm:grid-cols-1">'),G=u('<div class="card card-bordered card-compact bg-base-200 p-4"><div class="break-all"></div><div class="text-xs text-slate-500"> :: '),H=u('<div class="card card-bordered card-compact bg-base-200 p-4"><div></div><div class="text-xs text-slate-500"> :: <!> (<!>)'),B=()=>{const e=q(),[n,x]=f(100),[i,a]=f([]),[t,o]=f([]),$=T(()=>i().slice(0,n()));return y(async()=>{const{rules:h}=await e.get("rules").json();a(Object.values(h));const{providers:v}=await e.get("providers/rules").json();o(Object.values(v))}),(()=>{const h=E(),v=h.firstChild,R=v.firstChild,C=R.nextSibling,M=v.nextSibling,w=M.firstChild,j=w.nextSibling;return s(C,g(z,{get each(){return $()},get hasMore(){return $().length<i().length},next:()=>x(n()+100),children:l=>(()=>{const c=G(),d=c.firstChild,r=d.nextSibling,b=r.firstChild;return s(d,()=>l.payload),s(r,()=>l.type,b),s(r,()=>l.proxy,null),c})()})),s(j,g(S,{get each(){return t()},children:l=>(()=>{const c=H(),d=c.firstChild,r=d.nextSibling,b=r.firstChild,_=b.nextSibling,P=_.nextSibling,m=P.nextSibling;return m.nextSibling,s(d,()=>l.name),s(r,()=>l.vehicleType,b),s(r,()=>l.behavior,_),s(r,()=>l.ruleCount,m),c})()})),h})()};export{B as default};
