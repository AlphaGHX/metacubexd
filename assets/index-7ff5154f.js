import{m as x,c as w,k as K,d as W,u as O,a as J,b as U,i,e as t,I as Q,A as D,F as E,S as A,f as X,g as Y,h as L,j as Z,t as ee,l as b,n as te,s as N,o as ne,p as re,q as oe,r as se,v as ae,w as le,x as ie,R as h,N as ce,y as de,z as g,B as ue,C as pe,D as me,E as he,G as fe,H as ge}from"./vendor-48c5660e.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();const ve="modulepreload",be=function(e,r){return new URL(e,r).href},T={},v=function(r,s,l){if(!s||s.length===0)return r();const o=document.getElementsByTagName("link");return Promise.all(s.map(n=>{if(n=be(n,l),n in T)return;T[n]=!0;const a=n.endsWith(".css"),f=a?'[rel="stylesheet"]':"";if(!!l)for(let u=o.length-1;u>=0;u--){const p=o[u];if(p.href===n&&(!a||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${f}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":ve,a||(c.as="script",c.crossOrigin=""),c.href=n,document.head.appendChild(c),a)return new Promise((u,p)=>{c.addEventListener("load",u),c.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>r()).catch(n=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=n,window.dispatchEvent(a),!a.defaultPrevented)throw n})},_e=["light","dark","cupcake","bumblebee","emerald","corporate","synthwave","retro","cyberpunk","valentine","halloween","garden","forest","aqua","lofi","pastel","fantasy","wireframe","black","luxury","dracula","cmyk","autumn","business","acid","lemonade","night","coffee","winter"],[C,we]=x(w(""),{name:"selectedEndpoint",storage:localStorage}),[xe,Fe]=x(w([]),{name:"endpointList",storage:localStorage}),[ye,$e]=x(w("business"),{name:"theme",storage:localStorage}),P=()=>xe().find(({id:e})=>e===C()),je=()=>{var e;return(e=P())==null?void 0:e.secret},Ge=()=>{var e;return(e=P())==null?void 0:e.url.replace("http","ws")},Ke=()=>{const e=P();return K.create({prefixUrl:e==null?void 0:e.url,headers:{Authorization:e!=null&&e.secret?`Bearer ${e.secret}`:""}})},z=b("<li>"),Se=b('<div class="drawer drawer-end w-auto sm:ml-auto"><input id="themes" type="checkbox" class="drawer-toggle"><div class="drawer-content flex items-center"><label for="themes" class="btn btn-circle btn-primary drawer-button btn-sm"></label></div><div class="drawer-side"><label for="themes" class="drawer-overlay"></label><ul class="menu rounded-box gap-2 bg-base-300 p-2 shadow">'),Ee=b('<li class="btn btn-xs">'),Le=b('<div class="navbar-center hidden lg:flex"><ul class="menu menu-horizontal gap-2">'),Ce=b('<ul class="navbar rounded-box sticky inset-x-0 top-2 z-10 mx-2 mt-2 flex w-auto items-center justify-center bg-base-300 px-4"><div class="navbar-start gap-4"><div><input id="navs" type="checkbox" class="drawer-toggle"><div class="drawer-content flex items-center"><label for="navs" class="btn btn-circle drawer-button btn-sm"></label></div><div class="drawer-side"><label for="navs" class="drawer-overlay"></label><ul class="menu rounded-box min-h-full w-2/5 gap-2 bg-base-300 pt-20 shadow"></ul></div></div><a class="text-xl font-bold normal-case" href="https://github.com/metacubex/metacubexd" target="_blank">metacubexd</a></div><div class="navbar-end"><div class="flex items-center gap-2"><button class="btn btn-circle btn-sm"></button><button class="btn btn-circle btn-secondary btn-sm">'),Pe=({href:e,tooltip:r,children:s})=>(()=>{const l=z();return i(l,t(D,{class:"tooltip rounded-box tooltip-bottom",href:e,"data-tip":r,children:s})),l})(),Ie=()=>(()=>{const e=Se(),r=e.firstChild,s=r.nextSibling,l=s.firstChild,o=s.nextSibling,n=o.firstChild,a=n.nextSibling;return i(l,t(te,{})),i(a,t(E,{each:_e,children:f=>(()=>{const d=Ee();return d.$$click=()=>$e(f),N(d,"data-theme",f),i(d,f),d})()})),e})(),Re=()=>{const[e,{locale:r}]=O(),s=()=>[{href:"/overview",name:e("overview"),icon:t(ne,{})},{href:"/proxies",name:e("proxies"),icon:t(re,{})},{href:"/rules",name:e("rules"),icon:t(oe,{})},{href:"/conns",name:e("connections"),icon:t(se,{})},{href:"/logs",name:e("logs"),icon:t(ae,{})},{href:"/config",name:e("config"),icon:t(le,{})}],l=J(),o=U(),[n,a]=w(!1),f=()=>{we(""),o("/setup")};return(()=>{const d=Ce(),c=d.firstChild,u=c.firstChild,p=u.firstChild,I=p.nextSibling,H=I.firstChild,q=I.nextSibling,M=q.firstChild,F=M.nextSibling,R=c.nextSibling,k=R.firstChild,y=k.firstChild,$=y.nextSibling;return p.addEventListener("change",m=>a(m.target.checked)),i(H,t(Q,{})),i(F,t(E,{get each(){return s()},children:({href:m,name:S})=>(()=>{const _=z();return _.$$click=()=>a(!1),i(_,t(D,{href:m,children:S})),_})()})),i(d,t(A,{get when(){return l.pathname!=="/setup"},get children(){const m=Le(),S=m.firstChild;return i(S,t(E,{get each(){return s()},children:({href:_,name:j,icon:G})=>t(Pe,{href:_,tooltip:j,children:G})})),m}}),R),y.$$click=()=>{const m=r();r(m==="en-US"?"zh-Hans":"en-US")},i(y,t(X,{})),i(k,t(Ie,{}),$),$.$$click=f,i($,t(Y,{})),L(()=>Z(u,ee("drawer w-auto lg:hidden",""))),L(()=>p.checked=n()),d})()};W(["click"]);const ke=b('<div class="relative flex h-screen flex-col subpixel-antialiased"><div class="flex-1 overflow-y-auto overflow-x-hidden p-2 sm:p-4">'),Te=g(()=>v(()=>import("./Setup-283b9982.js"),["./Setup-283b9982.js","./vendor-48c5660e.js","./index-bb44c23f.js"],import.meta.url)),Oe=g(()=>v(()=>import("./Overview-e7750254.js"),["./Overview-e7750254.js","./vendor-48c5660e.js","./index-5e4b6e89.js","./index-ac54fc13.js"],import.meta.url)),Ue=g(()=>v(()=>import("./Connections-6a378189.js"),["./Connections-6a378189.js","./vendor-48c5660e.js","./index-5e4b6e89.js","./index-4fc58763.js","./index-ac54fc13.js","./enum-cbdb10ae.js"],import.meta.url)),De=g(()=>v(()=>import("./Logs-f866617f.js"),["./Logs-f866617f.js","./vendor-48c5660e.js","./index-5e4b6e89.js","./index-4fc58763.js"],import.meta.url)),Ae=g(()=>v(()=>import("./Proxies-4fba4995.js"),["./Proxies-4fba4995.js","./vendor-48c5660e.js","./index-4e88c381.js","./enum-cbdb10ae.js","./index-ac54fc13.js"],import.meta.url)),Ne=g(()=>v(()=>import("./Rules-b875ee73.js"),["./Rules-b875ee73.js","./vendor-48c5660e.js","./index-4e88c381.js"],import.meta.url)),ze=g(()=>v(()=>import("./Config-62c8d191.js"),["./Config-62c8d191.js","./vendor-48c5660e.js","./index-bb44c23f.js"],import.meta.url)),Ve=()=>{const e=U();return ie(()=>{C()||e("/setup")}),(()=>{const r=ke(),s=r.firstChild;return i(r,t(Re,{}),s),i(s,t(de,{get children(){return[t(A,{get when(){return C()},get children(){return[t(h,{path:"/overview",component:Oe}),t(h,{path:"/proxies",component:Ae}),t(h,{path:"/rules",component:Ne}),t(h,{path:"/conns",component:Ue}),t(h,{path:"/logs",component:De}),t(h,{path:"/config",component:ze}),t(h,{path:"*",get element(){return t(ce,{href:"/overview"})}})]}}),t(h,{path:"/setup",component:Te})]}})),L(()=>N(r,"data-theme",ye())),r})()},V={"en-US":{add:"Add",overview:"Overview",proxies:"Proxies",rules:"Rules",connections:"Connections",logs:"Logs",config:"Config",upload:"Upload",download:"Download",uploadTotal:"Upload Total",downloadTotal:"Download Total",activeConnections:"Active Connections",memoryUsage:"Memory Usage",traffic:"Traffic",memory:"Memory",down:"Down",up:"Up",proxyProviders:"Proxy Providers",ruleProviders:"Rule Providers",search:"Search",type:"Type",name:"Name",process:"Process",host:"Host",chains:"Chains",dlSpeed:"DL Speed",ulSpeed:"UL Speed",dl:"DL",ul:"UL",source:"Source",destination:"Destination",close:"Close"},"zh-Hans":{add:"添加",overview:"概览",proxies:"代理",rules:"规则",connections:"连接",logs:"日志",config:"配置",upload:"上传",download:"下载",uploadTotal:"上传总量",downloadTotal:"下载总量",activeConnections:"活动连接",memoryUsage:"内存使用情况",traffic:"流量",memory:"内存",down:"下载",up:"上传",proxyProviders:"代理提供者",ruleProviders:"规则提供者",search:"搜索",type:"类型",name:"名字",process:"进程",host:"主机",chains:"链路",dlSpeed:"下载速度",ulSpeed:"上传速度",dl:"下载量",ul:"上传量",source:"源地址",destination:"目标地址",close:"关闭"}},B=()=>{const[e,r]=x(w(Reflect.has(V,navigator.language)?navigator.language:"en-US"),{name:"lang",storage:localStorage});return{lang:e,setLang:r}},Be=e=>{const{setLang:r}=B(),[s,{locale:l}]=O();return me(()=>{r(l())}),e.children},He=e=>{const{lang:r}=B(),s=ue(V,r());return t(pe.Provider,{value:s,get children(){return t(Be,{get children(){return e.children}})}})},qe=document.getElementById("root");he(()=>t(He,{get children(){return t(fe,{get source(){return ge()},get children(){return t(Ve,{})}})}}),qe);export{we as a,je as b,xe as e,Fe as s,Ke as u,Ge as w};
