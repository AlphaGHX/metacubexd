import{i as s,f as m,n as d,u as y,c as F,L as C,F as v,S as w,o as E,j as g,s as h}from"./vendor-a821092a.js";import{z as i,c as S,v as k}from"./index-23343ee3.js";import{u as P,P as T,f as j,p as R,g as D,h as L,j as Q,k as q}from"./index-2208f7ae.js";const I=d('<div class="flex flex-col p-4">'),A=d('<div class="flex flex-col"><form class="flex flex-col gap-2 sm:flex-row"><input name="name" class="input input-bordered w-full max-w-xs sm:flex-1"><div class="flex items-center gap-2"><select name="type" class="select select-bordered"><option>A</option><option>AAAA</option><option>MX</option></select><button type="submit" class="btn btn-primary">'),M=d('<div class="py-2">'),N=d('<div><form class="contents">'),X=d('<div class="form-control w-64 max-w-xs"><label class="label"><span class="label-text"></span></label><input type="number" class="input input-bordered">'),O=d('<div class="flex flex-col gap-4"><div><div class="pb-4"></div><div class="flex items-center gap-4"></div></div><div><div class="pb-4"></div><input class="toggle" type="checkbox"></div><div><div class="pb-4"></div><input class="input input-bordered w-96">'),V=d('<label class="flex items-center gap-2"><span></span><input class="radio" type="radio">'),z=d('<div class="flex flex-col gap-4">'),H=i.object({name:i.string(),type:i.string()}),U=()=>{const[l]=y(),f=P(),{form:a}=S({extend:k({schema:H}),onSubmit:async e=>{f.get("dns/query",{searchParams:{name:e.name,type:e.type}}).json().then(({Answer:r})=>$((r==null?void 0:r.map(({data:o})=>o))||[]))}}),[p,$]=F([]);return(()=>{const e=A(),r=e.firstChild,o=r.firstChild,b=o.nextSibling,u=b.firstChild,x=u.nextSibling;return C(a,r,()=>a),s(x,()=>l("dnsQuery")),s(e,m(w,{get when(){return p().length>0},get children(){const t=I();return s(t,m(v,{get each(){return p()},children:n=>(()=>{const c=M();return s(c,n),c})()})),t}}),null),e})()},W=i.object({port:i.number(),"socks-port":i.number(),"redir-port":i.number(),"tproxy-port":i.number(),"mixed-port":i.number()}),Y=()=>{const l=P(),f=[{label:"Http Port",key:"port"},{label:"Socks Port",key:"socks-port"},{label:"Redir Port",key:"redir-port"},{label:"Tproxy Port",key:"tproxy-port"},{label:"Mixed Port",key:"mixed-port"}],{form:a,setInitialValues:p,reset:$}=S({extend:k({schema:W})});return E(async()=>{const e=await l.get("configs").json();p(e),$()}),(()=>{const e=N(),r=e.firstChild;return C(a,r,()=>a),s(r,m(v,{each:f,children:o=>(()=>{const b=X(),u=b.firstChild,x=u.firstChild,t=u.nextSibling;return s(x,()=>o.label),g(n=>{const c=o.key,_=o.label;return c!==n._v$&&h(t,"name",n._v$=c),_!==n._v$2&&h(t,"placeholder",n._v$2=_),n},{_v$:void 0,_v$2:void 0}),b})()})),e})()},B=()=>{const[l]=y();return(()=>{const f=O(),a=f.firstChild,p=a.firstChild,$=p.nextSibling,e=a.nextSibling,r=e.firstChild,o=r.nextSibling,b=e.nextSibling,u=b.firstChild,x=u.nextSibling;return s(p,()=>l("proxiesPreviewType")),s($,m(v,{get each(){return Object.values(T)},children:t=>(()=>{const n=V(),c=n.firstChild,_=c.nextSibling;return s(c,()=>l(t)),_.addEventListener("change",()=>j(t)),h(_,"aria-label",t),g(()=>_.checked=t===R()),n})()})),s(r,()=>l("autoCloseConns")),o.addEventListener("change",t=>D(t.target.checked)),s(u,()=>l("urlForDelayTest")),x.addEventListener("change",t=>{var n;return L((n=t.target)==null?void 0:n.value)}),g(()=>o.checked=Q()),g(()=>x.value=q()),f})()},Z=()=>(()=>{const l=z();return s(l,m(U,{}),null),s(l,m(Y,{}),null),s(l,m(B,{}),null),l})();export{Z as default};
