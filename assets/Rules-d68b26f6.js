import{c as _,u as N,a as q,o as F,i as e,f as d,a9 as j,F as O,S as U,n as h,d as E}from"./vendor-a821092a.js";import{I as T}from"./index-d4e52c73.js";import{u as z}from"./index-7068c974.js";const g=z(),D=()=>{const[u,p]=_([]),[i,f]=_([]),c=async()=>{const{rules:l}=await g.get("rules").json();p(Object.values(l));const{providers:m}=await g.get("providers/rules").json();f(Object.values(m))};return{rules:u,rulesProviders:i,updateRules:c,updateAllRuleProvider:async()=>{await Promise.all(i().map(l=>g.put(`providers/rules/${l.name}`))),await c()},updateRuleProviderByName:async l=>{await g.put(`providers/rules/${l}`),await c()}}},G=h('<div class="flex-1"><h1 class="flex h-11 items-center pb-4 text-lg font-semibold"><button class="btn btn-circle btn-ghost btn-sm ml-2">'),H=h('<div class="flex w-full flex-row gap-4"><div class="flex-1"><h1 class="pb-4 text-lg font-semibold">'),J=h('<div class="card card-bordered card-compact mb-2 bg-base-200 p-4"><div class="break-all"></div><div class="text-xs text-slate-500"> :: '),K=h('<div class="card card-bordered card-compact mb-2 bg-base-200 p-4"><div class="flex h-6 items-center justify-between"><span></span><div><button class="btn btn-circle btn-sm mr-2"></button></div></div><div class="text-xs text-slate-500"> :: <!> (<!>)'),X=()=>{const[u]=N(),{rules:p,rulesProviders:i,updateRules:f,updateAllRuleProvider:c,updateRuleProviderByName:R}=D(),[x,l]=_(100),m=q(()=>p().slice(0,x()));F(async()=>{f()});const A=async(s,a)=>{const b=s.target;b.classList.add("animate-spin"),s.stopPropagation(),await R(a),b.classList.remove("animate-spin")},I=async s=>{const a=s.target;a.classList.add("animate-spin"),s.stopPropagation(),await c(),a.classList.remove("animate-spin")};return(()=>{const s=H(),a=s.firstChild,b=a.firstChild;return e(b,()=>u("rules")),e(a,d(T,{get each(){return m()},get hasMore(){return m().length<p().length},next:()=>l(x()+100),children:n=>(()=>{const o=J(),r=o.firstChild,t=r.nextSibling,v=t.firstChild;return e(r,()=>n.payload),e(t,()=>n.type,v),e(t,()=>n.proxy,null),o})()}),null),e(s,d(U,{get when(){return i().length>0},get children(){const n=G(),o=n.firstChild,r=o.firstChild;return e(o,()=>u("ruleProviders"),r),r.$$click=t=>I(t),e(r,d(j,{})),e(n,d(O,{get each(){return i()},children:t=>(()=>{const v=K(),y=v.firstChild,C=y.firstChild,L=C.nextSibling,w=L.firstChild,$=y.nextSibling,P=$.firstChild,S=P.nextSibling,M=S.nextSibling,k=M.nextSibling;return k.nextSibling,e(C,()=>t.name),w.$$click=B=>A(B,t.name),e(w,d(j,{})),e($,()=>t.vehicleType,P),e($,()=>t.behavior,S),e($,()=>t.ruleCount,k),v})()}),null),n}}),null),s})()};E(["click"]);export{X as default};
