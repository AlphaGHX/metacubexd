import{u as W,c as C,a as j,B as q,i as e,e as a,ag as D,ah as S,t as R,F as E,S as G,h as d}from"./vendor-cb4efd1e.js";import{B as y}from"./Button-7c6b8c49.js";import{v as H,h as J}from"./index-46cb073c.js";import{u as K}from"./global-4c759fc4.js";const L=d('<div class="flex-1"><h1 class="flex h-11 items-center pb-4 text-lg font-semibold">'),O=d('<div class="flex w-full gap-4"><div class="flex-1"><h1 class="pb-4 text-lg font-semibold">'),Q=d('<div class="card card-bordered card-compact mb-2 bg-base-200 p-4"><div class="break-all"></div><div class="text-xs text-slate-500"> :: '),V=d('<div class="card card-bordered card-compact mb-2 bg-base-200 p-4"><div class="break-all pr-8"> (<!>)</div><div class="text-xs text-slate-500"> / <!> /<!> '),te=()=>{const[p]=W(),{rules:u,rulesProviders:g,updateRules:M,updateAllRuleProvider:k,updateRuleProviderByName:w}=H(),[m,B]=C(100),h=j(()=>u().slice(0,m()));q(M);const{map:I,setWithCallback:U}=K(),[A,b]=C(!1),P=(s,r)=>{s.stopPropagation(),U(r,()=>w(r))},z=async s=>{s.stopPropagation(),b(!0);try{await k()}catch{}b(!1)};return(()=>{const s=O(),r=s.firstChild,F=r.firstChild;return e(F,()=>p("rules")),e(r,a(D,{get each(){return h()},get hasMore(){return h().length<u().length},next:()=>B(m()+100),children:l=>(()=>{const c=Q(),t=c.firstChild,n=t.nextSibling,i=n.firstChild;return e(t,()=>l.payload,null),e(t,()=>typeof l.size=="number"&&l.size!==-1&&` (${l.size})`,null),e(n,()=>l.type,i),e(n,()=>l.proxy,null),c})()}),null),e(s,a(G,{get when(){return g().length>0},get children(){const l=L(),c=l.firstChild;return e(c,()=>p("ruleProviders"),null),e(c,a(y,{class:"btn-circle btn-ghost btn-sm ml-2",onClick:t=>z(t),get children(){return a(S,{get class(){return R(A()&&"animate-spin text-success")}})}}),null),e(l,a(E,{get each(){return g()},children:t=>(()=>{const n=V(),i=n.firstChild,x=i.firstChild,f=x.nextSibling;f.nextSibling;const o=i.nextSibling,$=o.firstChild,_=$.nextSibling,N=_.nextSibling,v=N.nextSibling;return v.nextSibling,e(i,()=>t.name,x),e(i,()=>t.ruleCount,f),e(o,()=>t.vehicleType,$),e(o,()=>t.behavior,_),e(o,()=>p("updated"),v),e(o,()=>J(t.updatedAt),null),e(n,a(y,{class:"btn-circle btn-sm absolute right-2 top-2 mr-2 h-4",onClick:T=>P(T,t.name),get children(){return a(S,{get class(){return R(I()[t.name]&&"animate-spin text-success")}})}}),null),n})()}),null),l}}),null),s})()};export{te as default};
