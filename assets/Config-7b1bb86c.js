import{i as e,c as n,b as g,u as A,f as j,U as z,F as w,S as V,H as W,j as c,r as U}from"./vendor-a04c6957.js";import{z as u,c as Y,v as J}from"./index-c360447f.js";import{u as K,B as N,t as Z,v as ee,x as te,y as Q,z as M,A as se,E as q,G as le,H as ne,I as ie,n as re,J as ae,m as oe,K as ce,M as de,p as ge,N as pe,O as ue,Q as fe,R as he,r as me,S as xe,T as be,U as ve}from"./index-9a70db9d.js";const _e=g('<div class="flex flex-col p-4">'),$e=g('<div class="flex flex-col"><form class="flex flex-col gap-2 sm:flex-row"><input name="name" class="input input-bordered w-full sm:flex-1"><div class="flex items-center gap-2"><select name="type" class="select select-bordered"><option>A</option><option>AAAA</option><option>MX'),ye=g('<div class="py-2">'),Se=g('<div class="flex flex-col gap-2"><form class="contents"></form><div class="flex flex-wrap items-center gap-2">'),Ce=g('<div class="form-control w-64 max-w-sm"><label class="label"><span class="label-text"></span></label><input type="number" class="input input-bordered">'),X=g('<div class="flex flex-col"><div class="pb-4 text-lg font-semibold"></div><select class="select select-bordered w-full max-w-xs">'),ke=g('<div class="grid gap-4"><div class="flex flex-col"><div class="pb-4 text-lg font-semibold"></div><input type="checkbox" class="toggle"></div><div class="flex flex-col"><div class="pb-4 text-lg font-semibold"></div><input type="checkbox" class="toggle"></div><div class="flex flex-col"><div class="pb-4 text-lg font-semibold"></div><input type="checkbox" class="toggle"></div><div><div class="pb-4 text-lg font-semibold"></div><div class="flex items-center gap-4"></div></div><div><div class="pb-4 text-lg font-semibold"></div><div class="flex flex-col gap-4"></div></div><div><div class="pb-4 text-lg font-semibold"></div><input class="toggle" type="checkbox"></div><div><div class="pb-4 text-lg font-semibold"></div><input class="toggle" type="checkbox"></div><div class="flex flex-col"><div class="pb-4 text-lg font-semibold"></div><input class="w-100 input input-bordered max-w-md">'),B=g("<option>"),H=g('<label class="flex items-center gap-2"><span></span><input class="radio" type="radio">'),Te=g('<div class="flex flex-col gap-4">'),we=u.object({name:u.string(),type:u.string()}),Ee=()=>{const[s]=A(),d=K(),{form:x,isSubmitting:b}=Y({extend:J({schema:we}),onSubmit:async r=>{d.get("dns/query",{searchParams:{name:r.name,type:r.type}}).json().then(({Answer:i})=>C((i==null?void 0:i.map(({data:f})=>f))||[]))}}),[v,C]=j([]);return(()=>{const r=$e(),i=r.firstChild,f=i.firstChild,h=f.nextSibling;return h.firstChild,z(x,i,()=>x),e(h,n(N,{type:"submit",class:"btn-primary",get loading(){return b()},get children(){return s("dnsQuery")}}),null),e(r,n(V,{get when(){return v().length>0},get children(){const _=_e();return e(_,n(w,{get each(){return v()},children:m=>(()=>{const $=ye();return e($,m),$})()})),_}}),null),r})()},Pe=u.object({port:u.number(),"socks-port":u.number(),"redir-port":u.number(),"tproxy-port":u.number(),"mixed-port":u.number()}),Re=()=>{const[s]=A(),d=K(),x=[{label:"Http Port",key:"port"},{label:"Socks Port",key:"socks-port"},{label:"Redir Port",key:"redir-port"},{label:"Tproxy Port",key:"tproxy-port"},{label:"Mixed Port",key:"mixed-port"}],{form:b,setInitialValues:v,reset:C}=Y({extend:J({schema:Pe})});W(async()=>{const y=await d.get("configs").json();v(y),C()});const[r,i]=j(!1),[f,h]=j(!1),[_,m]=j(!1),$=async()=>{i(!0);try{await d.post("configs/geo")}catch{}i(!1)},G=async()=>{h(!0);try{await d.post("upgrade")}catch{}h(!1)},O=async()=>{m(!0);try{await d.post("restart")}catch{}m(!1)};return(()=>{const y=Se(),E=y.firstChild,k=E.nextSibling;return z(b,E,()=>b),e(E,n(w,{each:x,children:T=>(()=>{const P=Ce(),R=P.firstChild,D=R.firstChild,L=R.nextSibling;return e(D,()=>T.label),c(S=>{const F=T.key,I=T.label;return F!==S._v$&&U(L,"name",S._v$=F),I!==S._v$2&&U(L,"placeholder",S._v$2=I),S},{_v$:void 0,_v$2:void 0}),P})()})),e(k,n(N,{get loading(){return r()},onClick:$,get children(){return s("updateGEODatabases")}}),null),e(k,n(N,{get loading(){return f()},onClick:G,get children(){return s("upgradeCore")}}),null),e(k,n(N,{get loading(){return _()},onClick:O,get children(){return s("restartCore")}}),null),y})()},Le=()=>{const[s]=A();return(()=>{const d=ke(),x=d.firstChild,b=x.firstChild,v=b.nextSibling,C=x.nextSibling,r=C.firstChild,i=r.nextSibling,f=C.nextSibling,h=f.firstChild,_=h.nextSibling,m=f.nextSibling,$=m.firstChild,G=$.nextSibling,O=m.nextSibling,y=O.firstChild,E=y.nextSibling,k=O.nextSibling,T=k.firstChild,P=T.nextSibling,R=k.nextSibling,D=R.firstChild,L=D.nextSibling,S=R.nextSibling,F=S.firstChild,I=F.nextSibling;return e(b,()=>s("renderInTwoColumns")),v.addEventListener("change",t=>{Z(t.target.checked)}),e(r,()=>s("renderProxiesInSamePage")),i.addEventListener("change",t=>{ee(t.target.checked)}),e(h,()=>s("autoSwitchTheme")),_.addEventListener("change",t=>{te(t.target.checked),Q()}),e(d,n(V,{get when(){return M()},get children(){return[(()=>{const t=X(),a=t.firstChild,o=a.nextSibling;return e(a,()=>s("favDayTheme")),o.addEventListener("change",l=>{se(l.target.value),Q()}),e(o,n(w,{each:q,children:l=>(()=>{const p=B();return p.value=l,e(p,l),c(()=>p.selected=le()===l),p})()})),t})(),(()=>{const t=X(),a=t.firstChild,o=a.nextSibling;return e(a,()=>s("favNightTheme")),o.addEventListener("change",l=>{ne(l.target.value),Q()}),e(o,n(w,{each:q,children:l=>(()=>{const p=B();return p.value=l,e(p,l),c(()=>p.selected=ie()===l),p})()})),t})()]}}),m),e($,()=>s("proxiesPreviewType")),e(G,n(w,{get each(){return Object.values(re)},children:t=>(()=>{const a=H(),o=a.firstChild,l=o.nextSibling;return e(o,()=>s(t)),l.addEventListener("change",()=>ae(t)),U(l,"aria-label",t),c(()=>l.checked=t===oe()),a})()})),e(y,()=>s("proxiesSorting")),e(E,n(w,{get each(){return Object.values(ce)},children:t=>(()=>{const a=H(),o=a.firstChild,l=o.nextSibling;return e(o,()=>s(t)),l.addEventListener("change",()=>de(t)),U(l,"aria-label",t),c(()=>l.checked=t===ge()),a})()})),e(T,()=>s("autoCloseConns")),P.addEventListener("change",t=>pe(t.target.checked)),e(D,()=>s("useTwemoji")),L.addEventListener("change",t=>ue(t.target.checked)),e(F,()=>s("urlForLatencyTest")),I.addEventListener("change",t=>fe(t.target.value)),c(()=>v.checked=he()),c(()=>i.checked=me()),c(()=>_.checked=M()),c(()=>P.checked=xe()),c(()=>L.checked=be()),c(()=>I.value=ve()),d})()},De=()=>(()=>{const s=Te();return e(s,n(Ee,{}),null),e(s,n(Re,{}),null),e(s,n(Le,{}),null),e(s,()=>"1.67.5",null),s})();export{De as default};
