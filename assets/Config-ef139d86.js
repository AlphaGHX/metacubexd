import{i as e,g as c,o as d,u as I,c as M,L as j,F as C,S as N,B as X,l as x,s as w}from"./vendor-01afc7ba.js";import{z as u,c as q,v as Q}from"./index-b0a7f1b6.js";import{u as A,f as B,g as O,h as k,j as E,k as V,t as D,l as z,m as H,n as U,P as W,o as Y,p as G,q as J,v as K,r as Z,x as ee,y as te}from"./index-ccde4305.js";const le=d('<div class="flex flex-col p-4">'),se=d('<div class="flex flex-col"><form class="flex flex-col gap-2 sm:flex-row"><input name="name" class="input input-bordered w-full max-w-xs sm:flex-1"><div class="flex items-center gap-2"><select name="type" class="select select-bordered"><option>A</option><option>AAAA</option><option>MX</option></select><button type="submit" class="btn btn-primary">'),ne=d('<div class="py-2">'),re=d('<div><form class="contents">'),ie=d('<div class="form-control w-64 max-w-xs"><label class="label"><span class="label-text"></span></label><input type="number" class="input input-bordered">'),L=d('<div class="flex flex-col"><div class="pb-4"></div><select class="select select-bordered w-full max-w-xs">'),ae=d('<div class="grid gap-4"><div class="flex flex-col"><div class="pb-4"></div><input type="checkbox" class="toggle"></div><div class="flex flex-col"><div class="pb-4"></div><input type="checkbox" class="toggle"></div><div><div class="pb-4"></div><div class="flex items-center gap-4"></div></div><div><div class="pb-4"></div><input class="toggle" type="checkbox"></div><div class="flex flex-col"><div class="pb-4"></div><input class="w-100 input input-bordered max-w-md">'),R=d("<option>"),oe=d('<label class="flex items-center gap-2"><span></span><input class="radio" type="radio">'),ce=d('<div class="flex flex-col gap-4">'),de=u.object({name:u.string(),type:u.string()}),pe=()=>{const[l]=I(),_=A(),{form:m}=q({extend:Q({schema:de}),onSubmit:async n=>{_.get("dns/query",{searchParams:{name:n.name,type:n.type}}).json().then(({Answer:r})=>y((r==null?void 0:r.map(({data:a})=>a))||[]))}}),[b,y]=M([]);return(()=>{const n=se(),r=n.firstChild,a=r.firstChild,h=a.nextSibling,$=h.firstChild,S=$.nextSibling;return j(m,r,()=>m),e(S,()=>l("dnsQuery")),e(n,c(N,{get when(){return b().length>0},get children(){const g=le();return e(g,c(C,{get each(){return b()},children:o=>(()=>{const f=ne();return e(f,o),f})()})),g}}),null),n})()},ue=u.object({port:u.number(),"socks-port":u.number(),"redir-port":u.number(),"tproxy-port":u.number(),"mixed-port":u.number()}),me=()=>{const l=A(),_=[{label:"Http Port",key:"port"},{label:"Socks Port",key:"socks-port"},{label:"Redir Port",key:"redir-port"},{label:"Tproxy Port",key:"tproxy-port"},{label:"Mixed Port",key:"mixed-port"}],{form:m,setInitialValues:b,reset:y}=q({extend:Q({schema:ue})});return X(async()=>{const n=await l.get("configs").json();b(n),y()}),(()=>{const n=re(),r=n.firstChild;return j(m,r,()=>m),e(r,c(C,{each:_,children:a=>(()=>{const h=ie(),$=h.firstChild,S=$.firstChild,g=$.nextSibling;return e(S,()=>a.label),x(o=>{const f=a.key,T=a.label;return f!==o._v$&&w(g,"name",o._v$=f),T!==o._v$2&&w(g,"placeholder",o._v$2=T),o},{_v$:void 0,_v$2:void 0}),h})()})),n})()},he=()=>{const[l]=I();return(()=>{const _=ae(),m=_.firstChild,b=m.firstChild,y=b.nextSibling,n=m.nextSibling,r=n.firstChild,a=r.nextSibling,h=n.nextSibling,$=h.firstChild,S=$.nextSibling,g=h.nextSibling,o=g.firstChild,f=o.nextSibling,T=g.nextSibling,P=T.firstChild,F=P.nextSibling;return e(b,()=>l("renderInTwoColumns")),y.addEventListener("change",t=>{B(t.target.checked)}),e(r,()=>l("autoSwitchTheme")),a.addEventListener("change",t=>{O(t.target.checked),k()}),e(_,c(N,{get when(){return E()},get children(){return[(()=>{const t=L(),i=t.firstChild,v=i.nextSibling;return e(i,()=>l("favDayTheme")),v.addEventListener("change",s=>{V(s.target.value),k()}),e(v,c(C,{each:D,children:s=>(()=>{const p=R();return p.value=s,e(p,s),x(()=>p.selected=z()===s),p})()})),t})(),(()=>{const t=L(),i=t.firstChild,v=i.nextSibling;return e(i,()=>l("favNightTheme")),v.addEventListener("change",s=>{H(s.target.value),k()}),e(v,c(C,{each:D,children:s=>(()=>{const p=R();return p.value=s,e(p,s),x(()=>p.selected=U()===s),p})()})),t})()]}}),h),e($,()=>l("proxiesPreviewType")),e(S,c(C,{get each(){return Object.values(W)},children:t=>(()=>{const i=oe(),v=i.firstChild,s=v.nextSibling;return e(v,()=>l(t)),s.addEventListener("change",()=>Y(t)),w(s,"aria-label",t),x(()=>s.checked=t===G()),i})()})),e(o,()=>l("autoCloseConns")),f.addEventListener("change",t=>J(t.target.checked)),e(P,()=>l("urlForDelayTest")),F.addEventListener("change",t=>{var i;return K((i=t.target)==null?void 0:i.value)}),x(()=>y.checked=Z()),x(()=>a.checked=E()),x(()=>f.checked=ee()),x(()=>F.value=te()),_})()},xe=()=>(()=>{const l=ce();return e(l,c(pe,{}),null),e(l,c(me,{}),null),e(l,c(he,{}),null),l})();export{xe as default};
