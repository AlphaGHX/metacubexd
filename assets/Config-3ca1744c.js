import{i as e,h as l,o as d,p as A,c as k,Q as V,F as _,S as W,E as te,j as u,s as q,f as j,D as se,Y as le}from"./vendor-832337c7.js";import{z as m,c as Z,v as J}from"./index-4d2011c4.js";import{B as y}from"./Button-116abf94.js";import{f as K,x as ne,y as re,z as ae,A as ie,B as oe,E as ce,F as de,m as ue,G as ge,H as pe,I as he,T as me,J as O,p as fe,r as ve,j as be,b as _e,R as $e,w as xe,K as ye,M as B,N as Ce,O as I,Q as Se,S as Te,U as we,V as Y,W as Ee,X as Le,Y as ke}from"./index-cbe831eb.js";const De=d('<div class="pb-4 text-lg font-semibold">'),Pe=d('<div class="flex flex-col p-4">'),Re=d('<div class="flex flex-col"><form class="flex flex-col gap-2 sm:flex-row"><input name="name" class="input input-bordered w-full sm:flex-1"><div class="flex items-center gap-2"><select name="type" class="select select-bordered"><option>A</option><option>AAAA</option><option>MX'),Fe=d('<div class="py-2">'),Ne=d('<div class="flex flex-col gap-4"><form class="contents"></form><div class="flex flex-wrap items-center gap-2"></div><div class="flex flex-col"><input class="input input-bordered max-w-md"></div><div><input type="number" class="input input-bordered w-full max-w-md"></div><div><input class="toggle" type="checkbox">'),Oe=d('<div class="form-control w-64 max-w-sm"><label class="label"><span class="label-text"></span></label><input type="number" class="input input-bordered">'),H=d('<div class="flex flex-col"><select class="select select-bordered w-full max-w-xs">'),L=d("<option>"),Ie=d('<div class="grid gap-4"><div><select class="select select-bordered w-full max-w-xs"></select></div><div><select class="select select-bordered w-full max-w-xs"></select></div><div><select class="select select-bordered w-full max-w-xs"></select></div><div></div><div>'),je=d('<div class="flex flex-col"><input type="checkbox" class="toggle">'),Ae=d('<option class="flex items-center gap-2">'),Ge=d('<div class="flex flex-col gap-4"><kbd class="kbd">'),Qe=m.object({name:m.string(),type:m.string()}),f=t=>(()=>{const c=De();return e(c,le(()=>t.children)),c})(),Ue=()=>{const[t]=A(),c=K(),{form:$,isSubmitting:x}=Z({extend:J({schema:Qe}),onSubmit:async n=>{c.get("dns/query",{searchParams:{name:n.name,type:n.type}}).json().then(({Answer:r})=>S((r==null?void 0:r.map(({data:a})=>a))||[]))}}),[C,S]=k([]);return(()=>{const n=Re(),r=n.firstChild,a=r.firstChild,o=a.nextSibling;return o.firstChild,V($,r,()=>$),e(o,l(y,{type:"submit",class:"btn-primary",get loading(){return x()},get children(){return t("dnsQuery")}}),null),e(n,l(W,{get when(){return C().length>0},get children(){const g=Pe();return e(g,l(_,{get each(){return C()},children:v=>(()=>{const p=Fe();return e(p,v),p})()})),g}}),null),n})()},Me=m.object({port:m.number(),"socks-port":m.number(),"redir-port":m.number(),"tproxy-port":m.number(),"mixed-port":m.number()}),ze=()=>{const[t]=A(),c=K(),$=[{label:"Http Port",key:"port"},{label:"Socks Port",key:"socks-port"},{label:"Redir Port",key:"redir-port"},{label:"Tproxy Port",key:"tproxy-port"},{label:"Mixed Port",key:"mixed-port"}],{form:x,setInitialValues:C,reset:S}=Z({extend:J({schema:Me})});te(async()=>{const s=await c.get("configs").json();C(s),S()});const[n,r]=k(!1),[a,o]=k(!1),[g,v]=k(!1),p=async()=>{r(!0);try{await c.post("configs/geo")}catch{}r(!1)},E=async()=>{o(!0);try{await c.post("upgrade")}catch{}o(!1)},D=async()=>{v(!0);try{await c.post("restart")}catch{}v(!1)};return(()=>{const s=Ne(),i=s.firstChild,b=i.nextSibling,T=b.nextSibling,P=T.firstChild,R=T.nextSibling,F=R.firstChild,G=R.nextSibling,N=G.firstChild;return V(x,i,()=>x),e(i,l(_,{each:$,children:h=>(()=>{const Q=Oe(),U=Q.firstChild,ee=U.firstChild,M=U.nextSibling;return e(ee,()=>h.label),u(w=>{const z=h.key,X=h.label;return z!==w._v$&&q(M,"name",w._v$=z),X!==w._v$2&&q(M,"placeholder",w._v$2=X),w},{_v$:void 0,_v$2:void 0}),Q})()})),e(b,l(y,{get loading(){return n()},onClick:p,get children(){return t("updateGEODatabases")}}),null),e(b,l(y,{get loading(){return a()},onClick:E,get children(){return t("upgradeCore")}}),null),e(b,l(y,{get loading(){return g()},onClick:D,get children(){return t("restartCore")}}),null),e(T,l(f,{get children(){return t("urlForLatencyTest")}}),P),P.addEventListener("change",h=>ne(h.target.value)),e(R,l(f,{get children(){return[j(()=>t("latencyTestTimeoutDuration"))," (",j(()=>t("ms")),")"]}}),F),F.addEventListener("change",h=>re(Number(h.target.value))),e(G,l(f,{get children(){return t("autoCloseConns")}}),N),N.addEventListener("change",h=>ae(h.target.checked)),u(()=>P.value=ie()),u(()=>F.value=oe()),u(()=>N.checked=ce()),s})()},Xe=()=>{const[t,{locale:c}]=A(),$=se(),x=()=>{_e(""),$($e.Setup)},S=[{label:"renderInTwoColumns",value:xe,onChange:ye},{label:"autoSwitchTheme",value:B,onChange:n=>{Ce(n),I()},subChild:()=>l(W,{get when(){return B()},get children(){return[(()=>{const n=H(),r=n.firstChild;return e(n,l(f,{get children(){return t("favDayTheme")}}),r),r.addEventListener("change",a=>{we(a.target.value),I()}),e(r,l(_,{each:Y,children:a=>(()=>{const o=L();return o.value=a,e(o,a),u(()=>o.selected=Ee()===a),o})()})),n})(),(()=>{const n=H(),r=n.firstChild;return e(n,l(f,{get children(){return t("favNightTheme")}}),r),r.addEventListener("change",a=>{Le(a.target.value),I()}),e(r,l(_,{each:Y,children:a=>(()=>{const o=L();return o.value=a,e(o,a),u(()=>o.selected=ke()===a),o})()})),n})()]}})},{label:"useTwemoji",value:Se,onChange:Te}];return(()=>{const n=Ie(),r=n.firstChild,a=r.firstChild,o=r.nextSibling,g=o.firstChild,v=o.nextSibling,p=v.firstChild,E=v.nextSibling,D=E.nextSibling;return e(n,l(_,{each:S,children:s=>[(()=>{const i=je(),b=i.firstChild;return e(i,l(f,{get children(){return t(s.label)}}),b),b.addEventListener("change",T=>{s.onChange(T.target.checked)}),u(()=>b.checked=s.value()),i})(),j(()=>{var i;return(i=s.subChild)==null?void 0:i.call(s)})]}),r),e(r,l(f,{get children(){return t("proxiesPreviewType")}}),a),a.addEventListener("change",s=>de(s.target.value)),e(a,l(_,{get each(){return Object.values(ue)},children:s=>(()=>{const i=L();return i.value=s,e(i,()=>t(s)),i})()})),e(o,l(f,{get children(){return t("proxiesSorting")}}),g),g.addEventListener("change",s=>ge(s.target.value)),e(g,l(_,{get each(){return Object.values(pe)},children:s=>(()=>{const i=Ae();return i.value=s,e(i,()=>t(s)),i})()})),e(v,l(f,{get children(){return t("tableSize")}}),p),p.addEventListener("change",s=>he(s.target.value)),e(p,l(_,{get each(){return Object.values(me)},children:s=>(()=>{const i=L();return i.value=s,e(i,()=>t(s)),i})()})),e(E,l(y,{onClick:()=>{const s=c();c(s===O.EN?O.ZH:O.EN)},get children(){return t("switchLanguage")}})),e(D,l(y,{onClick:x,get children(){return t("switchEndpoint")}})),u(()=>a.value=fe()),u(()=>g.value=ve()),u(()=>p.value=be()),n})()},Ve=()=>(()=>{const t=Ge(),c=t.firstChild;return e(t,l(Ue,{}),c),e(t,l(ze,{}),c),e(t,l(Xe,{}),c),e(c,()=>"1.85.0"),t})();export{Ve as default};
