import{i as e,c as r,b as g,u as I,e as F,T as Q,F as k,S as U,G as H,h as p,q as D}from"./vendor-38af4582.js";import{z as f,c as X,v as B}from"./index-7c44eb86.js";import{u as z,B as R,o as V,q as Y,r as O,t as N,v as J,x as j,y as K,z as W,A as Z,l as ee,D as te,k as se,E as le,G as ne,p as re,H as ae,I as ie,J as oe,K as ce,M as de}from"./index-e72ee666.js";const ge=g('<div class="flex flex-col p-4">'),ue=g('<div class="flex flex-col"><form class="flex flex-col gap-2 sm:flex-row"><input name="name" class="input input-bordered w-full max-w-xs sm:flex-1"><div class="flex items-center gap-2"><select name="type" class="select select-bordered"><option>A</option><option>AAAA</option><option>MX'),pe=g('<div class="py-2">'),fe=g('<div class="flex flex-col gap-2"><form class="contents"></form><div class="flex items-center gap-2">'),he=g('<div class="form-control w-64 max-w-xs"><label class="label"><span class="label-text"></span></label><input type="number" class="input input-bordered">'),q=g('<div class="flex flex-col"><div class="pb-4 text-lg font-semibold"></div><select class="select select-bordered w-full max-w-xs">'),me=g('<div class="grid gap-4"><div class="flex flex-col"><div class="pb-4 text-lg font-semibold"></div><input type="checkbox" class="toggle"></div><div class="flex flex-col"><div class="pb-4 text-lg font-semibold"></div><input type="checkbox" class="toggle"></div><div><div class="pb-4 text-lg font-semibold"></div><div class="flex items-center gap-4"></div></div><div><div class="pb-4 text-lg font-semibold"></div><div class="flex flex-col gap-4"></div></div><div><div class="pb-4 text-lg font-semibold"></div><input class="toggle" type="checkbox"></div><div class="flex flex-col"><div class="pb-4 text-lg font-semibold"></div><input class="w-100 input input-bordered max-w-md">'),A=g("<option>"),M=g('<label class="flex items-center gap-2"><span></span><input class="radio" type="radio">'),xe=g('<div class="flex flex-col gap-4">'),be=f.object({name:f.string(),type:f.string()}),ve=()=>{const[l]=I(),d=z(),{form:m,isSubmitting:x}=X({extend:B({schema:be}),onSubmit:async c=>{d.get("dns/query",{searchParams:{name:c.name,type:c.type}}).json().then(({Answer:i})=>y((i==null?void 0:i.map(({data:u})=>u))||[]))}}),[b,y]=F([]);return(()=>{const c=ue(),i=c.firstChild,u=i.firstChild,h=u.nextSibling;return h.firstChild,Q(m,i,()=>m),e(h,r(R,{type:"submit",class:"btn-primary",get loading(){return x()},get children(){return l("dnsQuery")}}),null),e(c,r(U,{get when(){return b().length>0},get children(){const C=ge();return e(C,r(k,{get each(){return b()},children:v=>(()=>{const _=pe();return e(_,v),_})()})),C}}),null),c})()},_e=f.object({port:f.number(),"socks-port":f.number(),"redir-port":f.number(),"tproxy-port":f.number(),"mixed-port":f.number()}),$e=()=>{const[l]=I(),d=z(),m=[{label:"Http Port",key:"port"},{label:"Socks Port",key:"socks-port"},{label:"Redir Port",key:"redir-port"},{label:"Tproxy Port",key:"tproxy-port"},{label:"Mixed Port",key:"mixed-port"}],{form:x,setInitialValues:b,reset:y}=X({extend:B({schema:_e})});H(async()=>{const $=await d.get("configs").json();b($),y()});const[c,i]=F(!1),[u,h]=F(!1),[C,v]=F(!1),_=async()=>{i(!0);try{await d.post("configs/geo")}catch{}i(!1)},L=async()=>{h(!0);try{await d.post("upgrade")}catch{}h(!1)},P=async()=>{v(!0);try{await d.post("restart")}catch{}v(!1)};return(()=>{const $=fe(),S=$.firstChild,w=S.nextSibling;return Q(x,S,()=>x),e(S,r(k,{each:m,children:T=>(()=>{const E=he(),t=E.firstChild,n=t.firstChild,a=t.nextSibling;return e(n,()=>T.label),p(s=>{const o=T.key,G=T.label;return o!==s._v$&&D(a,"name",s._v$=o),G!==s._v$2&&D(a,"placeholder",s._v$2=G),s},{_v$:void 0,_v$2:void 0}),E})()})),e(w,r(R,{get loading(){return c()},onClick:_,get children(){return l("updateGEODatabases")}}),null),e(w,r(R,{get loading(){return C()},onClick:P,get children(){return l("restartCore")}}),null),e(w,r(R,{get loading(){return u()},onClick:L,get children(){return l("upgradeCore")}}),null),$})()},ye=()=>{const[l]=I();return(()=>{const d=me(),m=d.firstChild,x=m.firstChild,b=x.nextSibling,y=m.nextSibling,c=y.firstChild,i=c.nextSibling,u=y.nextSibling,h=u.firstChild,C=h.nextSibling,v=u.nextSibling,_=v.firstChild,L=_.nextSibling,P=v.nextSibling,$=P.firstChild,S=$.nextSibling,w=P.nextSibling,T=w.firstChild,E=T.nextSibling;return e(x,()=>l("renderInTwoColumns")),b.addEventListener("change",t=>{V(t.target.checked)}),e(c,()=>l("autoSwitchTheme")),i.addEventListener("change",t=>{Y(t.target.checked),O()}),e(d,r(U,{get when(){return N()},get children(){return[(()=>{const t=q(),n=t.firstChild,a=n.nextSibling;return e(n,()=>l("favDayTheme")),a.addEventListener("change",s=>{J(s.target.value),O()}),e(a,r(k,{each:j,children:s=>(()=>{const o=A();return o.value=s,e(o,s),p(()=>o.selected=K()===s),o})()})),t})(),(()=>{const t=q(),n=t.firstChild,a=n.nextSibling;return e(n,()=>l("favNightTheme")),a.addEventListener("change",s=>{W(s.target.value),O()}),e(a,r(k,{each:j,children:s=>(()=>{const o=A();return o.value=s,e(o,s),p(()=>o.selected=Z()===s),o})()})),t})()]}}),u),e(h,()=>l("proxiesPreviewType")),e(C,r(k,{get each(){return Object.values(ee)},children:t=>(()=>{const n=M(),a=n.firstChild,s=a.nextSibling;return e(a,()=>l(t)),s.addEventListener("change",()=>te(t)),D(s,"aria-label",t),p(()=>s.checked=t===se()),n})()})),e(_,()=>l("proxiesSorting")),e(L,r(k,{get each(){return Object.values(le)},children:t=>(()=>{const n=M(),a=n.firstChild,s=a.nextSibling;return e(a,()=>l(t)),s.addEventListener("change",()=>ne(t)),D(s,"aria-label",t),p(()=>s.checked=t===re()),n})()})),e($,()=>l("autoCloseConns")),S.addEventListener("change",t=>ae(t.target.checked)),e(T,()=>l("urlForLatencyTest")),E.addEventListener("change",t=>{var n;return ie((n=t.target)==null?void 0:n.value)}),p(()=>b.checked=oe()),p(()=>i.checked=N()),p(()=>S.checked=ce()),p(()=>E.value=de()),d})()},ke=()=>(()=>{const l=xe();return e(l,r(ve,{}),null),e(l,r($e,{}),null),e(l,r(ye,{}),null),l})();export{ke as default};
