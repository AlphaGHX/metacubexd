import{i as s,f as m,n as c,u as y,c as F,L as C,F as v,S as E,o as T,j as x,s as h}from"./vendor-a821092a.js";import{z as i,c as S,v as k}from"./index-23343ee3.js";import{u as P,P as j,f as R,p as D,g as w,h as L,j as Q,k as q}from"./index-7068c974.js";const I=c('<div class="flex flex-col p-4">'),A=c('<div class="flex flex-col"><form class="flex items-center gap-2"><input name="name" class="input input-bordered flex-1"><select name="type" class="select select-bordered"><option>A</option><option>AAAA</option><option>MX</option></select><button type="submit" class="btn btn-primary">'),M=c('<div class="py-2">'),N=c('<div><form class="contents">'),X=c('<div class="form-control w-64 max-w-xs"><label class="label"><span class="label-text"></span></label><input type="number" class="input input-bordered">'),O=c('<div class="flex flex-col gap-4"><div><div class="pb-4"></div><div class="flex items-center gap-4"></div></div><div><div class="pb-4"></div><input class="toggle" type="checkbox"></div><div><div class="pb-4"></div><input class="input input-bordered w-96">'),V=c('<label class="flex items-center gap-2"><span></span><input class="radio" type="radio">'),z=c('<div class="flex flex-col gap-4">'),H=i.object({name:i.string(),type:i.string()}),U=()=>{const[n]=y(),b=P(),{form:a}=S({extend:k({schema:H}),onSubmit:async e=>{b.get("dns/query",{searchParams:{name:e.name,type:e.type}}).json().then(({Answer:r})=>$((r==null?void 0:r.map(({data:o})=>o))||[]))}}),[d,$]=F([]);return(()=>{const e=A(),r=e.firstChild,o=r.firstChild,f=o.nextSibling,p=f.nextSibling;return C(a,r,()=>a),s(p,()=>n("dnsQuery")),s(e,m(E,{get when(){return d().length>0},get children(){const u=I();return s(u,m(v,{get each(){return d()},children:l=>(()=>{const t=M();return s(t,l),t})()})),u}}),null),e})()},W=i.object({port:i.number(),"socks-port":i.number(),"redir-port":i.number(),"tproxy-port":i.number(),"mixed-port":i.number()}),Y=()=>{const n=P(),b=[{label:"Http Port",key:"port"},{label:"Socks Port",key:"socks-port"},{label:"Redir Port",key:"redir-port"},{label:"Tproxy Port",key:"tproxy-port"},{label:"Mixed Port",key:"mixed-port"}],{form:a,setInitialValues:d,reset:$}=S({extend:k({schema:W})});return T(async()=>{const e=await n.get("configs").json();d(e),$()}),(()=>{const e=N(),r=e.firstChild;return C(a,r,()=>a),s(r,m(v,{each:b,children:o=>(()=>{const f=X(),p=f.firstChild,u=p.firstChild,l=p.nextSibling;return s(u,()=>o.label),x(t=>{const g=o.key,_=o.label;return g!==t._v$&&h(l,"name",t._v$=g),_!==t._v$2&&h(l,"placeholder",t._v$2=_),t},{_v$:void 0,_v$2:void 0}),f})()})),e})()},B=()=>{const[n]=y();return(()=>{const b=O(),a=b.firstChild,d=a.firstChild,$=d.nextSibling,e=a.nextSibling,r=e.firstChild,o=r.nextSibling,f=e.nextSibling,p=f.firstChild,u=p.nextSibling;return s(d,()=>n("proxiesPreviewType")),s($,m(v,{get each(){return Object.values(j)},children:l=>(()=>{const t=V(),g=t.firstChild,_=g.nextSibling;return s(g,()=>n(l)),_.addEventListener("change",()=>R(l)),h(_,"aria-label",l),x(()=>_.checked=l===D()),t})()})),s(r,()=>n("autoCloseConns")),o.addEventListener("change",l=>w(l.target.checked)),s(p,()=>n("urlForDelayTest")),u.addEventListener("change",l=>{var t;return L((t=l.target)==null?void 0:t.value)}),x(()=>o.checked=Q()),x(()=>u.value=q()),b})()},Z=()=>(()=>{const n=z();return s(n,m(U,{}),null),s(n,m(Y,{}),null),s(n,m(B,{}),null),n})();export{Z as default};
