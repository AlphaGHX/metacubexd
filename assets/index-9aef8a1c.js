import{m as S,c as w,k as F,d as U,u as M,a as O,i as l,b as e,I as j,A,F as y,S as T,e as H,f as E,g as G,t as K,h as _,j as W,s as N,l as J,n as Q,o as X,p as Y,q as Z,r as ee,v as te,R as m,N as ne,w as re,x as p,y as se,z as oe,B as ae}from"./vendor-57811f8f.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function a(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerPolicy&&(t.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?t.credentials="include":r.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(r){if(r.ep)return;r.ep=!0;const t=a(r);fetch(r.href,t)}})();const ie="modulepreload",le=function(n,s){return new URL(n,s).href},I={},f=function(s,a,i){if(!a||a.length===0)return s();const r=document.getElementsByTagName("link");return Promise.all(a.map(t=>{if(t=le(t,i),t in I)return;I[t]=!0;const o=t.endsWith(".css"),u=o?'[rel="stylesheet"]':"";if(!!i)for(let h=r.length-1;h>=0;h--){const g=r[h];if(g.href===t&&(!o||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${u}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":ie,o||(c.as="script",c.crossOrigin=""),c.href=t,document.head.appendChild(c),o)return new Promise((h,g)=>{c.addEventListener("load",h),c.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>s()).catch(t=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=t,window.dispatchEvent(o),!o.defaultPrevented)throw t})},ce=["light","dark","cupcake","bumblebee","emerald","corporate","synthwave","retro","cyberpunk","valentine","halloween","garden","forest","aqua","lofi","pastel","fantasy","wireframe","black","luxury","dracula","cmyk","autumn","business","acid","lemonade","night","coffee","winter"],[L,de]=S(w(""),{name:"selectedEndpoint",storage:localStorage}),[ue,Oe]=S(w([]),{name:"endpointList",storage:localStorage}),[me,he]=S(w("business"),{name:"theme",storage:localStorage}),k=()=>ue().find(({id:n})=>n===L()),Ae=()=>{var n;return(n=k())==null?void 0:n.secret},Te=()=>{var n;return(n=k())==null?void 0:n.url.replace("http","ws")},Ne=()=>{const n=k();return F.create({prefixUrl:n==null?void 0:n.url,headers:{Authorization:n!=null&&n.secret?`Bearer ${n.secret}`:""}})},D=_("<li>"),pe=_('<div class="drawer drawer-end w-auto sm:ml-auto"><input id="themes" type="checkbox" class="drawer-toggle"><div class="drawer-content flex items-center"><label for="themes" class="btn btn-circle btn-primary drawer-button btn-sm"></label></div><div class="drawer-side"><label for="themes" class="drawer-overlay"></label><ul class="menu rounded-box gap-2 bg-base-300 p-2 shadow">'),fe=_('<li class="btn btn-xs">'),ge=_('<div class="navbar-center hidden lg:flex"><ul class="menu menu-horizontal gap-2">'),be=_('<ul class="navbar rounded-box sticky inset-x-0 top-2 z-10 mx-2 mt-2 flex w-auto items-center justify-center bg-base-300 px-4"><div class="navbar-start gap-4"><div><input id="navs" type="checkbox" class="drawer-toggle"><div class="drawer-content flex items-center"><label for="navs" class="btn btn-circle drawer-button btn-sm"></label></div><div class="drawer-side"><label for="navs" class="drawer-overlay"></label><ul class="menu rounded-box min-h-full w-2/5 gap-2 bg-base-300 pt-20 shadow"></ul></div></div><a class="text-xl font-bold normal-case" href="https://github.com/metacubex/metacubexd" target="_blank">metacubexd</a></div><div class="navbar-end"><div class="flex items-center gap-2"><button class="btn btn-circle btn-secondary btn-sm">'),_e=({href:n,tooltip:s,children:a})=>(()=>{const i=D();return l(i,e(A,{class:"tooltip rounded-box tooltip-bottom",href:n,"data-tip":s,children:a})),i})(),ve=()=>(()=>{const n=pe(),s=n.firstChild,a=s.nextSibling,i=a.firstChild,r=a.nextSibling,t=r.firstChild,o=t.nextSibling;return l(i,e(W,{})),l(o,e(y,{each:ce,children:u=>(()=>{const d=fe();return d.$$click=()=>he(u),N(d,"data-theme",u),l(d,u),d})()})),n})(),P=()=>[{href:"/overview",name:"Overview",icon:e(J,{})},{href:"/proxies",name:"Proxies",icon:e(Q,{})},{href:"/rules",name:"Rules",icon:e(X,{})},{href:"/conns",name:"Connections",icon:e(Y,{})},{href:"/logs",name:"Logs",icon:e(Z,{})},{href:"/config",name:"Config",icon:e(ee,{})}],we=()=>{const n=M(),s=O(),[a,i]=w(!1),r=()=>{de(""),s("/setup")};return(()=>{const t=be(),o=t.firstChild,u=o.firstChild,d=u.firstChild,c=d.nextSibling,h=c.firstChild,g=c.nextSibling,V=g.firstChild,B=V.nextSibling,C=o.nextSibling,R=C.firstChild,$=R.firstChild;return d.addEventListener("change",b=>i(b.target.checked)),l(h,e(j,{})),l(B,e(y,{get each(){return P()},children:({href:b,name:x})=>(()=>{const v=D();return v.$$click=()=>i(!1),l(v,e(A,{href:b,children:x})),v})()})),l(t,e(T,{get when(){return n.pathname!=="/setup"},get children(){const b=ge(),x=b.firstChild;return l(x,e(y,{get each(){return P()},children:({href:v,name:q,icon:z})=>e(_e,{href:v,tooltip:q,children:z})})),b}}),C),l(R,e(ve,{}),$),$.$$click=r,l($,e(H,{})),E(()=>G(u,K("drawer w-auto lg:hidden",""))),E(()=>d.checked=a()),t})()};U(["click"]);const $e=_('<div class="relative flex h-screen flex-col subpixel-antialiased"><div class="flex-1 overflow-y-auto overflow-x-hidden p-2 sm:p-4">'),xe=p(()=>f(()=>import("./Setup-c1dae0ab.js"),["./Setup-c1dae0ab.js","./vendor-57811f8f.js","./index-37254b87.js"],import.meta.url)),ye=p(()=>f(()=>import("./Overview-1dec95b5.js"),["./Overview-1dec95b5.js","./vendor-57811f8f.js","./index-e7eafd07.js","./index-ac54fc13.js"],import.meta.url)),Ee=p(()=>f(()=>import("./Connections-48c9fa5b.js"),["./Connections-48c9fa5b.js","./vendor-57811f8f.js","./index-e7eafd07.js","./index-ac54fc13.js"],import.meta.url)),Le=p(()=>f(()=>import("./Logs-a95f42b6.js"),["./Logs-a95f42b6.js","./vendor-57811f8f.js","./index-e7eafd07.js"],import.meta.url)),Se=p(()=>f(()=>import("./Proxies-f561455d.js"),["./Proxies-f561455d.js","./vendor-57811f8f.js"],import.meta.url)),ke=p(()=>f(()=>import("./Rules-362f6d0f.js"),["./Rules-362f6d0f.js","./vendor-57811f8f.js"],import.meta.url)),Ce=p(()=>f(()=>import("./Config-9839a2a8.js"),["./Config-9839a2a8.js","./vendor-57811f8f.js","./index-37254b87.js"],import.meta.url)),Re=()=>{const n=O();return te(()=>{L()||n("/setup")}),(()=>{const s=$e(),a=s.firstChild;return l(s,e(we,{}),a),l(a,e(re,{get children(){return[e(T,{get when(){return L()},get children(){return[e(m,{path:"/overview",component:ye}),e(m,{path:"/proxies",component:Se}),e(m,{path:"/rules",component:ke}),e(m,{path:"/conns",component:Ee}),e(m,{path:"/logs",component:Le}),e(m,{path:"/config",component:Ce}),e(m,{path:"*",get element(){return e(ne,{href:"/overview"})}})]}}),e(m,{path:"/setup",component:xe})]}})),E(()=>N(s,"data-theme",me())),s})()},Ie=document.getElementById("root");se(()=>e(ae,{get source(){return oe()},get children(){return e(Re,{})}}),Ie);export{de as a,Ae as b,ue as e,Oe as s,Ne as u,Te as w};
