import{e as M,g as o,c as i,ag as O,S as x,i as $,h as P,b,F as T,j as D,t as I}from"./vendor-38af4582.js";import{P as H,k as N,l as u,f as C,m as d,L as R}from"./index-e72ee666.js";const V=e=>{const[s,t]=M(100),n=o(()=>e.proxyNames.slice(0,s()));return i(O,{get each(){return n()},get hasMore(){return n().length<e.proxyNames.length},next:()=>t(s()+30),children:a=>i(H,{proxyName:a,get isSelected(){return e.now===a},onClick:()=>{var l;(l=e.onClick)==null||l.call(e,a)}})})},W=e=>{const s=()=>N()===u.OFF,t=o(()=>e.proxyNameList.length<=30),n=o(()=>{const l=N();return l===u.BAR||l===u.Auto&&!t()}),a=o(()=>{const l=N();return l===u.DOTS||l===u.Auto&&t()});return i(x,{get when(){return!s()},get children(){return[i(x,{get when(){return n()},get children(){return i(F,{get proxyNameList(){return e.proxyNameList},get now(){return e.now}})}}),i(x,{get when(){return a()},get children(){return i(U,{get proxyNameList(){return e.proxyNameList},get now(){return e.now}})}})]}})},G=b('<div class="flex h-6 w-full items-center gap-2"><div class="flex flex-1 overflow-hidden rounded-2xl"><div class="h-2 bg-success"></div><div class="h-2 bg-warning"></div><div class="h-2 bg-error"></div><div class="h-2 bg-neutral">'),F=e=>{const{latencyMap:s}=C(),t=o(()=>e.proxyNameList.map(r=>s()[r])),n=o(()=>t().length),a=o(()=>t().filter(r=>r>d().NOT_CONNECTED&&r<=d().MEDIUM).length),l=o(()=>t().filter(r=>r>d().NOT_CONNECTED&&r<=d().HIGH).length),E=o(()=>t().filter(r=>r>d().HIGH).length),S=o(()=>t().filter(r=>r===d().NOT_CONNECTED||typeof r!="number").length);return(()=>{const r=G(),L=r.firstChild,g=L.firstChild,h=g.nextSibling,y=h.nextSibling,_=y.nextSibling;return $(r,i(R,{get name(){return e.now}}),null),P(c=>{const w=`${a()*100/n()}%`,m=`${l()*100/n()}%`,v=`${E()*100/n()}%`,f=`${S()*100/n()}%`;return w!==c._v$&&((c._v$=w)!=null?g.style.setProperty("width",w):g.style.removeProperty("width")),m!==c._v$2&&((c._v$2=m)!=null?h.style.setProperty("width",m):h.style.removeProperty("width")),v!==c._v$3&&((c._v$3=v)!=null?y.style.setProperty("width",v):y.style.removeProperty("width")),f!==c._v$4&&((c._v$4=f)!=null?_.style.setProperty("width",f):_.style.removeProperty("width")),c},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),r})()},k=b("<div>"),A=b('<div class="flex w-full flex-wrap items-center">'),B=e=>{let s=e.selected?"bg-white border-4 border-success":"bg-success";return typeof e.latency!="number"||e.latency===d().NOT_CONNECTED?s=e.selected?"bg-white border-4 border-neutral":"bg-neutral":e.latency>d().HIGH?s=e.selected?"bg-white border-4 border-error":"bg-error":e.latency>d().MEDIUM&&(s=e.selected?"bg-white border-4 border-warning":"bg-warning"),(()=>{const t=k();return P(()=>D(t,I("m-1 h-4 w-4 rounded-full",s))),t})()},U=e=>{const{latencyMap:s}=C();return(()=>{const t=A();return $(t,i(T,{get each(){return e.proxyNameList.map(n=>[n,s()[n]])},children:([n,a])=>{const l=e.now===n;return i(B,{latency:a,selected:l})}})),t})()};export{W as P,V as a};
