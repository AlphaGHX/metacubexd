import{i as e,c as r,b as u,u as I,e as F,T as Q,F as k,S as U,G as H,h as g,q as D}from"./vendor-38af4582.js";import{z as h,c as X,v as B}from"./index-7c44eb86.js";import{u as z,B as R,o as V,q as Y,r as O,t as N,v as J,x as j,y as K,z as W,A as Z,l as ee,D as te,k as se,E as le,G as ne,p as re,H as ae,I as ie,J as ce,K as oe,M as de}from"./index-7dbd82f9.js";const ue=u('<div class="flex flex-col p-4">'),pe=u('<div class="flex flex-col"><form class="flex flex-col gap-2 sm:flex-row"><input name="name" class="input input-bordered w-full max-w-xs sm:flex-1"><div class="flex items-center gap-2"><select name="type" class="select select-bordered"><option>A</option><option>AAAA</option><option>MX'),ge=u('<div class="py-2">'),he=u('<div class="flex flex-col gap-2"><form class="contents"></form><div class="flex items-center gap-2">'),fe=u('<div class="form-control w-64 max-w-xs"><label class="label"><span class="label-text"></span></label><input type="number" class="input input-bordered">'),q=u('<div class="flex flex-col"><div class="pb-4"></div><select class="select select-bordered w-full max-w-xs">'),me=u('<div class="grid gap-4"><div class="flex flex-col"><div class="pb-4"></div><input type="checkbox" class="toggle"></div><div class="flex flex-col"><div class="pb-4"></div><input type="checkbox" class="toggle"></div><div><div class="pb-4"></div><div class="flex items-center gap-4"></div></div><div><div class="pb-4"></div><div class="flex flex-col gap-4"></div></div><div><div class="pb-4"></div><input class="toggle" type="checkbox"></div><div class="flex flex-col"><div class="pb-4"></div><input class="w-100 input input-bordered max-w-md">'),A=u("<option>"),M=u('<label class="flex items-center gap-2"><span></span><input class="radio" type="radio">'),xe=u('<div class="flex flex-col gap-4">'),ve=h.object({name:h.string(),type:h.string()}),be=()=>{const[l]=I(),d=z(),{form:m,isSubmitting:x}=X({extend:B({schema:ve}),onSubmit:async o=>{d.get("dns/query",{searchParams:{name:o.name,type:o.type}}).json().then(({Answer:i})=>y((i==null?void 0:i.map(({data:p})=>p))||[]))}}),[v,y]=F([]);return(()=>{const o=pe(),i=o.firstChild,p=i.firstChild,f=p.nextSibling;return f.firstChild,Q(m,i,()=>m),e(f,r(R,{type:"submit",class:"btn-primary",get loading(){return x()},get children(){return l("dnsQuery")}}),null),e(o,r(U,{get when(){return v().length>0},get children(){const C=ue();return e(C,r(k,{get each(){return v()},children:b=>(()=>{const _=ge();return e(_,b),_})()})),C}}),null),o})()},_e=h.object({port:h.number(),"socks-port":h.number(),"redir-port":h.number(),"tproxy-port":h.number(),"mixed-port":h.number()}),$e=()=>{const[l]=I(),d=z(),m=[{label:"Http Port",key:"port"},{label:"Socks Port",key:"socks-port"},{label:"Redir Port",key:"redir-port"},{label:"Tproxy Port",key:"tproxy-port"},{label:"Mixed Port",key:"mixed-port"}],{form:x,setInitialValues:v,reset:y}=X({extend:B({schema:_e})});H(async()=>{const $=await d.get("configs").json();v($),y()});const[o,i]=F(!1),[p,f]=F(!1),[C,b]=F(!1),_=async()=>{i(!0);try{await d.post("configs/geo")}catch{}i(!1)},L=async()=>{f(!0);try{await d.post("upgrade")}catch{}f(!1)},P=async()=>{b(!0);try{await d.post("restart")}catch{}b(!1)};return(()=>{const $=he(),S=$.firstChild,w=S.nextSibling;return Q(x,S,()=>x),e(S,r(k,{each:m,children:T=>(()=>{const E=fe(),t=E.firstChild,n=t.firstChild,a=t.nextSibling;return e(n,()=>T.label),g(s=>{const c=T.key,G=T.label;return c!==s._v$&&D(a,"name",s._v$=c),G!==s._v$2&&D(a,"placeholder",s._v$2=G),s},{_v$:void 0,_v$2:void 0}),E})()})),e(w,r(R,{get loading(){return o()},onClick:_,get children(){return l("updateGEODatabases")}}),null),e(w,r(R,{get loading(){return C()},onClick:P,get children(){return l("restartCore")}}),null),e(w,r(R,{get loading(){return p()},onClick:L,get children(){return l("upgradeCore")}}),null),$})()},ye=()=>{const[l]=I();return(()=>{const d=me(),m=d.firstChild,x=m.firstChild,v=x.nextSibling,y=m.nextSibling,o=y.firstChild,i=o.nextSibling,p=y.nextSibling,f=p.firstChild,C=f.nextSibling,b=p.nextSibling,_=b.firstChild,L=_.nextSibling,P=b.nextSibling,$=P.firstChild,S=$.nextSibling,w=P.nextSibling,T=w.firstChild,E=T.nextSibling;return e(x,()=>l("renderInTwoColumns")),v.addEventListener("change",t=>{V(t.target.checked)}),e(o,()=>l("autoSwitchTheme")),i.addEventListener("change",t=>{Y(t.target.checked),O()}),e(d,r(U,{get when(){return N()},get children(){return[(()=>{const t=q(),n=t.firstChild,a=n.nextSibling;return e(n,()=>l("favDayTheme")),a.addEventListener("change",s=>{J(s.target.value),O()}),e(a,r(k,{each:j,children:s=>(()=>{const c=A();return c.value=s,e(c,s),g(()=>c.selected=K()===s),c})()})),t})(),(()=>{const t=q(),n=t.firstChild,a=n.nextSibling;return e(n,()=>l("favNightTheme")),a.addEventListener("change",s=>{W(s.target.value),O()}),e(a,r(k,{each:j,children:s=>(()=>{const c=A();return c.value=s,e(c,s),g(()=>c.selected=Z()===s),c})()})),t})()]}}),p),e(f,()=>l("proxiesPreviewType")),e(C,r(k,{get each(){return Object.values(ee)},children:t=>(()=>{const n=M(),a=n.firstChild,s=a.nextSibling;return e(a,()=>l(t)),s.addEventListener("change",()=>te(t)),D(s,"aria-label",t),g(()=>s.checked=t===se()),n})()})),e(_,()=>l("proxiesSorting")),e(L,r(k,{get each(){return Object.values(le)},children:t=>(()=>{const n=M(),a=n.firstChild,s=a.nextSibling;return e(a,()=>l(t)),s.addEventListener("change",()=>ne(t)),D(s,"aria-label",t),g(()=>s.checked=t===re()),n})()})),e($,()=>l("autoCloseConns")),S.addEventListener("change",t=>ae(t.target.checked)),e(T,()=>l("urlForLatencyTest")),E.addEventListener("change",t=>{var n;return ie((n=t.target)==null?void 0:n.value)}),g(()=>v.checked=ce()),g(()=>i.checked=N()),g(()=>S.checked=oe()),g(()=>E.value=de()),d})()},ke=()=>(()=>{const l=xe();return e(l,r(be,{}),null),e(l,r($e,{}),null),e(l,r(ye,{}),null),l})();export{ke as default};
